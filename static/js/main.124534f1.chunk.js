(this["webpackJsonpstudio-multiplayer-game"]=this["webpackJsonpstudio-multiplayer-game"]||[]).push([[0],{146:function(e,t,a){},228:function(e,t,a){e.exports=a.p+"static/media/Logo.4454a02b.png"},229:function(e,t,a){e.exports=a.p+"static/media/Whisper icon.1687bbe5.png"},255:function(e,t,a){e.exports=a(578)},256:function(e,t,a){},488:function(e,t,a){},509:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},578:function(e,t,a){"use strict";a.r(t);a(256);var s=a(3),n=a(5),i=a(7),r=a(4),o=a(8),l=a(53),c=a.n(l),u=a(108),h=a.n(u),p=a(225),d=a.n(p),m=a(227),f=a.n(m),b=a(226),g=a.n(b),y=a(36),v=a.n(y),k=a(107),E=a.n(k),w=a(0),x=a.n(w),S=a(223),C=a.n(S),O=a(6),j=a.n(O),I=Object.freeze({UNINITIALIZED:0,LOADING:1,LOADED:2}),U=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={db_state:I.UNINITIALIZED,data:null},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"handleExpanded",value:function(e){var t=this;if(e)switch(this.state.db_state){case I.UNINITIALIZED:this.setState({db_state:I.LOADING}),j.a.database().ref("/").once("value",(function(e){t.setState({db_state:I.LOADED,data:e.val()})}));break;case I.LOADING:case I.LOADED:break;default:console.error("Invalid DB state",this.state.db_state)}}},{key:"renderDatabaseViewer",value:function(){switch(this.state.db_state){case I.UNINITIALIZED:case I.LOADING:return x.a.createElement(v.a,null,"Loading...");case I.LOADED:return x.a.createElement(C.a,{name:"/",collapsed:1,src:this.state.data});default:console.error("Invalid DB state",this.state.db_state)}}},{key:"render",value:function(){var e=this;return x.a.createElement(E.a,{className:"Container"},x.a.createElement(d.a,{style:{boxShadow:"none"},disabled:this.props.disabled,onChange:function(t,a){return e.handleExpanded(a)}},x.a.createElement(g.a,{style:{paddingLeft:0},expandIcon:x.a.createElement(h.a,null)},x.a.createElement(v.a,null,"Expand to see JSON view of entire database")),x.a.createElement(f.a,{style:{display:"block",paddingLeft:0,textAlign:"left"}},this.renderDatabaseViewer())))}}]),t}(w.Component),D=a(251),N=a.n(D),P=a(236),T=a.n(P),R=a(25),A=a.n(R),M=a(239),L=a.n(M),_=a(88),W=a.n(_),G=a(89),B=a.n(G),F=a(59),H=a.n(F),Y=a(78),q=a.n(Y),z=a(238),K=a.n(z),X=a(42),V=a.n(X),J=a(237),Q=a.n(J),Z=a(52),$=a.n(Z),ee=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(i.a)(this,Object(r.a)(t).call(this,e)),document.title=a.getSessionTitle(),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"onSessionDataChanged",value:function(e){}},{key:"onSessionMetadataChanged",value:function(e){}},{key:"getSessionDatabaseRef",value:function(){return j.a.database().ref("/session").child(this.getSessionId())}},{key:"getSessionMetadataDatabaseRef",value:function(){return j.a.database().ref("/session-metadata").child(this.getSessionId())}},{key:"getSessionId",value:function(){if(this.props&&this.props.match&&this.props.match.params&&this.props.match.params.id)return this.props.match.params.id;if(this.props&&this.props.location&&this.props.location.state&&this.props.location.state.id)return this.props.location.state.id;throw new Error("Unable to get session ID from URL nor browser history")}},{key:"getSessionUserIds",value:function(){return this.state&&this.state.metadata&&this.state.metadata.users?this.state.metadata.users:this.props&&this.props.location&&this.props.location.state&&this.props.location.state.users?this.props.location.state.users:(console.warn("Session user list not yet available, using empty list"),[])}},{key:"getSessionCreatorUserId",value:function(){return this.state&&this.state.metadata&&this.state.metadata.creator?this.state.metadata.creator:this.props&&this.props.location&&this.props.location.state&&this.props.location.state.creator?this.props.location.state.creator:(console.warn("Session creator ID not yet available, using empty string"),"")}},{key:"getSessionTitle",value:function(){return this.state&&this.state.metadata&&this.state.metadata.title?this.state.metadata.title:this.props&&this.props.location&&this.props.location.state&&this.props.location.state.title?this.props.location.state.title:"Studio Games!"}},{key:"getMyUserId",value:function(){if(j.a.auth()&&j.a.auth().currentUser&&j.a.auth().currentUser.uid)return j.a.auth().currentUser.uid;throw new Error("Unable to get current user ID")}},{key:"componentDidMount",value:function(){var e=this;this.getSessionDatabaseRef().on("value",(function(t){null!==t.val()&&e.onSessionDataChanged(t.val())})),this.getSessionMetadataDatabaseRef().on("value",(function(t){var a=t.val();if(null!==a){var s={creator:a.creator,users:a.users};a.type in ma&&(s.title=ma[a.type].title);var n=e.state||{};n.metadata=s,e.setState(n),e.onSessionMetadataChanged(a)}}))}},{key:"componentDidUpdate",value:function(e,t,a){document.title=this.getSessionTitle()}},{key:"componentWillUnmount",value:function(){this.getSessionDatabaseRef().off(),this.getSessionMetadataDatabaseRef().off()}}]),t}(x.a.Component),te=a(76),ae=a.n(te),se=function(){function e(){Object(s.a)(this,e)}return Object(n.a)(e,null,[{key:"hasUid",value:function(e){return null===ne||e in ne}},{key:"getName",value:function(t){return e.hasUid(t)?ne[t].name:(console.warn("No user metadata found for UID",t),null)}},{key:"getPhotoUrl",value:function(t){return e.hasUid(t)?ne[t].photoURL:(console.warn("No user metadata found for UID",t),null)}},{key:"getLastSignIn",value:function(t){return e.hasUid(t)?new Date(ne[t].lastSignIn):(console.warn("No user metadata found for UID",t),null)}}]),e}(),ne=null,ie=function(){function e(){Object(s.a)(this,e)}return Object(n.a)(e,null,[{key:"startListeningForChanges",value:function(){ne=null;var e=j.a.database().ref("/user");return new Promise((function(t){e.on("value",(function(e){null===ne&&t(),ne=null===e.val()?{}:e.val()}))}))}},{key:"stopListeningForChanges",value:function(){j.a.database().ref("/user").off()}}]),e}(),re=a(47),oe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={chats:[],input:""},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"onSessionDataChanged",value:function(e){var t=Object.keys(e).map((function(t){return{id:t,message:e[t].message,timestamp:e[t].timestamp,user:e[t].user}}));t.sort((function(e,t){return t.timestamp-e.timestamp})),this.setState({chats:t})}},{key:"handleKeyEvent",value:function(e){if("Enter"===e&&this.state.input.length>0){var t={message:this.state.input,timestamp:j.a.database.ServerValue.TIMESTAMP,user:this.getMyUserId()};this.getSessionDatabaseRef().push(t,(function(e){e&&console.error("Error storing session metadata",e)})),this.setState({input:""})}}},{key:"render",value:function(){var e=this,t=this.state.chats.slice(0,10).map((function(e,t){return x.a.createElement(re.ListItem,{key:e.id,style:{opacity:(10-t)/10},disabled:!0,primaryText:se.getName(e.user),secondaryText:e.message,leftAvatar:x.a.createElement($.a,{src:se.getPhotoUrl(e.user)})})}));return x.a.createElement("div",{style:{margin:56}},x.a.createElement(ae.a,{name:"Chat message input",label:"Type your message and press enter",fullWidth:!0,onChange:function(t){return e.setState({input:t.target.value})},onKeyPress:function(t){return e.handleKeyEvent(t.key)},value:this.state.input}),x.a.createElement(re.List,null,t))}}]),t}(ee),le=(a(146),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"paddedSeconds",value:function(e){return e<10?"0"+e:e}},{key:"render",value:function(){return x.a.createElement("div",null,this.props.minutes,":",this.paddedSeconds(this.props.seconds))}}]),t}(x.a.Component)),ce=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this;return x.a.createElement("div",null,x.a.createElement("table",{className:"score"},x.a.createElement("caption",null,"ScoreBored"),x.a.createElement("tr",{className:"playersname"},x.a.createElement("th",null,"Player One:",this.props.PlayerOne),x.a.createElement("th",null,this.props.winOrLoss),x.a.createElement("th",null,"Player two:",this.props.PlayerTwo)),x.a.createElement("tr",{className:"playersc"},x.a.createElement("td",{className:"playerscore"},"Score:",this.props.p1s),x.a.createElement("td",null,"Time left:"),x.a.createElement("td",null,"Score:",this.props.p2s)),x.a.createElement("tr",null,x.a.createElement("td",null),x.a.createElement("td",null,x.a.createElement(le,{minutes:this.props.startTimemin,seconds:this.props.startTimesec})),x.a.createElement("td",null))),x.a.createElement("table",{id:"shop"},x.a.createElement("tr",null,x.a.createElement("th",null,"Items"),x.a.createElement("th",null,"price"),x.a.createElement("th",null,"attributes")),x.a.createElement("tr",null,x.a.createElement("td",null,x.a.createElement("button",{className:"bu",id:"Cursors",disabled:this.props.currentScore<50,onClick:function(){return e.props.multipleClicks(3,50)}},"Cursor")),x.a.createElement("td",null,"$50"),x.a.createElement("td",null,"produces 1 cookie per second")),x.a.createElement("tr",null,x.a.createElement("td",null,x.a.createElement("button",{className:"bu",id:"Grandmas",disabled:this.props.currentScore<100,onClick:function(){return e.props.multipleClicks(15,100)}},"Grandmas")),x.a.createElement("td",null,"$100"),x.a.createElement("td",null,"produces 5 cookies per second")),x.a.createElement("tr",null,x.a.createElement("td",null,x.a.createElement("button",{className:"bu",id:"Farms",disabled:this.props.currentScore<500,onClick:function(){return e.props.multipleClicks(30,500)}},"Farms")),x.a.createElement("td",null,"$500"),x.a.createElement("td",null,"produces 10 cookies per second")),x.a.createElement("tr",null,x.a.createElement("td",null,x.a.createElement("button",{className:"bu",id:"Factories",disabled:this.props.currentScore<1e3,onClick:function(){return e.props.multipleClicks(75,1e3)}},"Factories")),x.a.createElement("td",null,"$1000"),x.a.createElement("td",null,"produces 25 cookies per second")),x.a.createElement("tr",null,x.a.createElement("td",null,x.a.createElement("button",{className:"bu",id:"MegaFactory",disabled:this.props.currentScore<1e4,onClick:function(){return e.props.multipleClicks(300,1e4)}},"Mega Factory")),x.a.createElement("td",null,"$10000"),x.a.createElement("td",null,"produces 100 Cookies per second"))))}}]),t}(x.a.Component),ue=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return x.a.createElement("div",null,x.a.createElement("p",null,this.props.score),x.a.createElement("img",{alt:"",className:"cookie",src:"/games/cookieClicker/Cooky.png",onClick:this.props.clickHandler}),x.a.createElement("audio",{className:"music",id:"myAudio",controls:!0,autoplay:!0,loop:!0},x.a.createElement("source",{src:"/games/cookieClicker/win.mp3",type:"audio/mpeg"})))}}]),t}(x.a.Component),he=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return x.a.createElement("div",null,x.a.createElement("div",null,x.a.createElement("p",{className:"GOV"},"Game Over"),x.a.createElement("p",{className:"WOR"},this.props.winOrLoss)))}}]),t}(x.a.Component),pe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={hostScore:0,guestScore:0,hasGameStarted:!1,timelefts:0,timeleftm:0},a.getSessionDatabaseRef().update(a.state),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"multipleClicks",value:function(e,t){if(this.getSessionCreatorUserId()===this.getMyUserId()){this.getSessionDatabaseRef().update({hostScore:this.state.hostScore-t});var a=this,s=setInterval((function(){0===a.state.timelefts&&a.state.timeleftm<=0&&clearInterval(s),a.getSessionDatabaseRef().update({hostScore:a.state.hostScore+e})}),3e3)}else{this.getSessionDatabaseRef().update({guestScore:this.state.guestScore-t});var n=this,i=setInterval((function(){0===n.state.timelefts&&n.state.timeleftm<=0&&clearInterval(i),n.getSessionDatabaseRef().update({guestScore:n.state.guestScore+e})}),3e3)}}},{key:"onSessionDataChanged",value:function(e){this.setState({hostScore:e.hostScore,guestScore:e.guestScore,hasGameStarted:e.hasGameStarted,timeleftm:e.timeleftm,timelefts:e.timelefts})}},{key:"updateScore",value:function(){this.getSessionCreatorUserId()===this.getMyUserId()?this.getSessionDatabaseRef().update({hostScore:this.state.hostScore+1}):this.getSessionDatabaseRef().update({guestScore:this.state.guestScore+1})}},{key:"winningOrLosing",value:function(){var e=null;return this.state.hostScore>this.state.guestScore?e=this.getSessionCreatorUserId():this.state.hostScore<this.state.guestScore&&(e=this.getSessionUserIds()[1]),null===e?"Tied":e===this.getMyUserId()?"Winning":"Losing"}},{key:"winOrLos",value:function(){var e=null;return this.state.hostScore>this.state.guestScore?e=this.getSessionCreatorUserId():this.state.hostScore<this.state.guestScore&&(e=this.getSessionUserIds()[1]),null===e?"Tied":e===this.getMyUserId()?"You win":"you lost"}},{key:"startGame",value:function(e){this.getSessionDatabaseRef().update({timeleftm:e,timelefts:0,hasGameStarted:!0});var t=this,a=setInterval((function(){0===t.state.timelefts?t.state.timeleftm<=0?clearInterval(a):(t.state.timelefts=59,t.state.timeleftm=t.state.timeleftm-1):t.state.timelefts=t.state.timelefts-1,t.getSessionDatabaseRef().update({timeleftm:t.state.timeleftm,timelefts:t.state.timelefts,hasGameStarted:!0})}),1e3)}},{key:"render",value:function(){var e=this;return this.state.hasGameStarted||this.getSessionCreatorUserId()!==this.getMyUserId()?this.state.hasGameStarted?this.state.hasGameStarted&&this.getSessionCreatorUserId()===this.getMyUserId()?0===this.state.timeleftm&&0===this.state.timelefts?x.a.createElement("div",null,x.a.createElement(he,{winOrLoss:this.winOrLos(),startTimemin:this.state.timeleftm,startTimesec:this.state.timelefts})):x.a.createElement("div",null,x.a.createElement(ce,{PlayerOne:se.getName(this.getSessionUserIds()[0]),PlayerTwo:se.getName(this.getSessionUserIds()[1]),p1s:this.state.hostScore,p2s:this.state.guestScore,winOrLoss:this.winningOrLosing(),startTimemin:this.state.timeleftm,startTimesec:this.state.timelefts,currentScore:this.state.hostScore,multipleClicks:function(t,a){return e.multipleClicks(t,a)}}),x.a.createElement(ue,{clickHandler:function(){return e.updateScore()},score:this.state.hostScore})):this.state.hasGameStarted&&this.getSessionCreatorUserId()!==this.getMyUserId()?0===this.state.timeleftm&&0===this.state.timelefts?x.a.createElement("div",null,x.a.createElement(he,{winOrLoss:this.winOrLos(),startTimemin:this.state.timeleftm,startTimesec:this.state.timelefts})):x.a.createElement("div",null,x.a.createElement(ce,{PlayerOne:se.getName(this.getSessionUserIds()[1]),PlayerTwo:se.getName(this.getSessionUserIds()[0]),p1s:this.state.guestScore,p2s:this.state.hostScore,winOrLoss:this.winningOrLosing(),startTimemin:this.state.timeleftm,startTimesec:this.state.timelefts,currentScore:this.state.guestScore,multipleClicks:function(t,a){return e.multipleClicks(t,a)}}),x.a.createElement(ue,{clickHandler:function(){return e.updateScore()},score:this.state.guestScore})):void 0:x.a.createElement("div",null,x.a.createElement("p",null,"Waiting for Host to start the game")):x.a.createElement("div",{className:"buttonholder"},x.a.createElement("button",{className:"stime",id:"fivem",onClick:function(){return e.startGame(1)}},"1 minuts"),x.a.createElement("button",{className:"stime",id:"fivem",onClick:function(){return e.startGame(5)}},"5 minuts"),x.a.createElement("button",{className:"stime",id:"tenm",onClick:function(){return e.startGame(10)}},"10 minuts"),x.a.createElement("button",{className:"stime",id:"fithteenm",onClick:function(){return e.startGame(15)}},"15 minuts"))}}]),t}(ee),de=(a(488),a(228)),me=a.n(de),fe=a(229),be=a.n(fe),ge=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).getSessionDatabaseRef().set({user_id:se.getName(a.getMyUserId()),currentPlayer:"string",statements:["statement 1","statement 2","statement 3"],truth:0,guess:null,isLandingPage:!0,isFormPage:!1,isPickAnswerForm:!1,isWaitPage:!1}),a.state={user_id:se.getName(a.getMyUserId()),currentPlayer:"string",statements:["statement 1","statement 2","statement 3"],truth:0,guess:null,isLandingPage:!0,isFormPage:!1,isPickAnswerForm:!1,isWaitPage:!1},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"onSessionDataChanged",value:function(e){"string"!==e.currentPlayer&&(this.state.isLandingPage?e.currentPlayer===this.getMyUserId()?this.setState({isLandingPage:!1,isFormPage:!0}):this.setState({isLandingPage:!1,isWaitPage:!0}):(this.state.isFormPage||this.state.isWaitPage)&&this.setState({isFormPage:!1,isWaitPage:!1,isPickAnswerForm:!0}))}},{key:"handleButtonClick",value:function(e){this.getSessionDatabaseRef().set({guess:e}),this.setState({guess:e})}},{key:"shouldShowCorrect",value:function(){return console.log("truth",this.state.truth,typeof this.state.truth),console.log("guess",this.state.guess,typeof this.state.guess),null!==this.state.guess&&(console.log("should show correct:",this.state.truth===this.state.guess),this.state.truth===this.state.guess)}},{key:"shouldShowIncorrect",value:function(){return null!==this.state.guess&&(console.log("should show incorrect:",this.state.truth!==this.state.guess),this.state.truth!==this.state.guess)}},{key:"submitTea",value:function(){this.setState({currentPlayer:this.getMyUserId(),isLandingPage:!1,isFormPage:!0}),this.getSessionDatabaseRef().set({currentPlayer:this.getMyUserId()})}},{key:"landingPageRender",value:function(){var e=this;return x.a.createElement("div",{class:"main"},x.a.createElement("img",{alt:"",id:"logo",src:me.a}),x.a.createElement("br",null),x.a.createElement(A.a,{variant:"outlined",color:"inherit",id:"NewSession",onClick:function(){return e.submitTea()}},"Get Gossiping"))}},{key:"pickAnAnswerRender",value:function(){var e=this;return x.a.createElement("div",{class:"main3"},x.a.createElement("div",{className:"AnswerWrapper"},x.a.createElement("div",{className:this.shouldShowCorrect()?"Shown":"Hidden"},"Correct"),x.a.createElement("div",{className:this.shouldShowIncorrect()?"Shown":"Hidden"},"Incorrect")),x.a.createElement(A.a,{variant:"outlined",id:"0",onClick:function(){return e.handleButtonClick(0)}},this.state.statements[0]),x.a.createElement("br",null),x.a.createElement(A.a,{variant:"outlined",id:"1",onClick:function(){return e.handleButtonClick(1)}},this.state.statements[1]),x.a.createElement("br",null),x.a.createElement(A.a,{variant:"outlined",id:"2",onClick:function(){return e.handleButtonClick(2)}},this.state.statements[2]),x.a.createElement("br",null))}},{key:"handleFormSubmit",value:function(e){this.getSessionDatabaseRef().set(this.state)}},{key:"handleFormChange",value:function(e,t){var a=this.state.statements;a[e]=t.target.value,this.setState({statements:a})}},{key:"handleLieChange",value:function(e){console.log("changing lie val",e.target.value),this.setState({truth:parseInt(e.target.value,10)})}},{key:"submitAQuestionRender",value:function(){var e=this;return x.a.createElement("div",{class:"main2"},x.a.createElement("img",{alt:"",id:"Whisper",src:be.a}),x.a.createElement("form",{onSubmit:function(t){return e.handleFormSubmit(t)}},x.a.createElement("label",{id:"input0"},"Truth or Lie #0"),x.a.createElement("br",null),x.a.createElement("input",{class:"flexform",type:"text",value:this.state.statements[0],onChange:function(t){return e.handleFormChange(0,t)},required:!0}),x.a.createElement("br",null),x.a.createElement("label",{id:"input1"},"Truth or Lie #1"),x.a.createElement("br",null),x.a.createElement("input",{class:"flexform",type:"text",value:this.state.statements[1],onChange:function(t){return e.handleFormChange(1,t)},required:!0}),x.a.createElement("br",null),x.a.createElement("label",{id:"input2"},"Truth or Lie #2"),x.a.createElement("br",null),x.a.createElement("input",{class:"flexform",type:"text",value:this.state.statements[2],onChange:function(t){return e.handleFormChange(2,t)},required:!0}),x.a.createElement("br",null),x.a.createElement("label",{id:"truthIdx"},"Index for Truth Statement"),x.a.createElement("br",null),x.a.createElement("input",{class:"flexform",type:"text",value:this.state.truth,onChange:function(t){return e.handleLieChange(t)},maxLength:"1",required:!0}),x.a.createElement("br",null),x.a.createElement("input",{type:"submit",value:"Submit"})))}},{key:"waitPageRender",value:function(){return x.a.createElement("div",null,"Wait....")}},{key:"render",value:function(){return this.state.isLandingPage?this.landingPageRender():this.state.isFormPage?this.submitAQuestionRender():this.state.isPickAnswerForm?this.pickAnAnswerRender():this.state.isWaitPage?this.waitPageRender():void 0}}]),t}(ee),ye=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return x.a.createElement("div",null,"Day")}}]),t}(w.Component),ve=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={buttonsDisabled:!1},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"onButtonClick",value:function(e){this.setState({buttonsDisabled:!0}),this.props.handleKill(e.target.id)}},{key:"render",value:function(){var e,t=this,a=this.props.players;if("Mafia"===this.props.currentPlayer.role.name){for(var s=[],n=0;n<a.length;n++){var i=a[n].id;s.push(x.a.createElement("li",null,x.a.createElement("button",{className:"color",id:i,onClick:function(e){return t.onButtonClick(e)},disabled:this.state.buttonsDisabled}," ",se.getName(i)," ")))}e=x.a.createElement("div",null,x.a.createElement("ul",null,s))}else e=x.a.createElement("div",null,"Sleep ._.");return x.a.createElement("div",null,e)}}]),t}(w.Component),ke=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){console.log(this.props.killedPlayers);var e=this.props.killedPlayers.map((function(e){return x.a.createElement("li",null,se.getName(e))})),t=0===this.props.killedPlayers.length?"No one was murdered":"Someone was murdered:";return x.a.createElement("div",null,t,x.a.createElement("ul",null,e))}}]),t}(w.Component),Ee={Mafia:{name:"Mafia",description:"Kill all the innocents and police force to win."},Citizen:{name:"Citizen",description:"Work together with the police to take down the crime group."},Police:{name:"Detective",description:"Investigate people to find who is a Mafia"},Doctors:{name:"Doctor",description:"Keep the Innocent alive"},Specate:{name:"Specator"}},we=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={time:0,phase:0,players:[],killedPlayers:[]},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"handleKill",value:function(e,t){var a=this.state.killedPlayers.concat([t]);this.setDataVar(e,"killedPlayers",a),console.log(t)}},{key:"findMyPlayer",value:function(){for(var e=j.a.auth().currentUser.uid,t=0;t<this.state.players.length;t++){var a=this.state.players[t];if(a.id===e)return a}return null}},{key:"shuffle",value:function(e){for(var t,a,s=e.length;0!==s;)a=Math.floor(Math.random()*s),t=e[s-=1],e[s]=e[a],e[a]=t;return e}},{key:"advancePhase",value:function(e){var t=this;e.child("phase").once("value",(function(a){var s=a.val();0===s?s=1:1===s?s=2:2===s?s=3:3===s?s=4:4===s&&(s=0),t.setDataVar(e,"phase",s)}))}},{key:"setDataVar",value:function(e,t,a){e.child(t).set(a,(function(e){e&&console.error("Error storing session metadata",e)}))}},{key:"getDataVar",value:function(e,t){var a;return e.child(t).once("value",(function(e){a=e.val()})),a}},{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id,a=j.a.database().ref("/session/"+t);console.log(a);var s=this.props.location.state.creator,n=j.a.auth().currentUser.uid,i="/session-metadata/"+t+"/users/",r=j.a.database().ref(i),o=[];if(n===s){r.once("value",(function(t){var s=t.val(),n=s.length,i=Math.ceil(n/3);e.shuffle(s);for(var r=0;r<i;r++)o.push({id:s[r],role:Ee.Mafia});for(r=i;r<n;r++)o.push({id:s[r],role:Ee.Citizen});e.setDataVar(a,"players",o)})),this.setDataVar(a,"phase",0),this.setDataVar(a,"time",5);var l=5;this.interval=setInterval((function(){--l<0&&(l=10,e.advancePhase(a)),e.setDataVar(a,"time",l)}),1e3)}a.child("time").on("value",(function(t){e.setState({time:t.val()})})),a.child("phase").on("value",(function(t){e.setState({phase:t.val()})})),a.child("players").on("value",(function(t){e.setState({players:t.val()})})),a.child("killedPlayers").on("value",(function(t){e.setState({killedPlayers:t.val()})}))}},{key:"render",value:function(){var e,t=this,a=this.findMyPlayer(),s=j.a.database().ref("/session/"+this.props.match.params.id);return null==a?x.a.createElement("div",null," Game has started "):(0===this.state.phase?e=x.a.createElement(ye,{players:this.state.players,currentPlayer:a}):1===this.state.phase?e=x.a.createElement(ve,{players:this.state.players,currentPlayer:a,handleKill:function(e){return t.handleKill(s,e)}}):2===this.state.phase&&(e=x.a.createElement(ke,{killedPlayers:this.getDataVar(s,"killedPlayers")})),x.a.createElement("div",{className:"mafia"},x.a.createElement("p",null," ",this.state.time," "),x.a.createElement("p",null," ",a.role.name," "),e))}}]),t}(w.Component),xe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={answer:"",answer_uid:"",start:!1,your_answer:"",your_uid:""},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id,a=j.a.database().ref("/session/"+t),s=j.a.auth().currentUser.uid;this.setState({your_uid:s}),j.a.database().ref("/session/"+t+"/players/"+s).set(!0,(function(e){e&&console.error("Error storing session metadata",e)})),a.on("value",(function(t){var a=t.val();null!==a&&(console.log("sessionSnapshot"),console.log(a),Object.keys(a.players).length>1&&e.setState({start:!0}),"answer"in a&&e.setState({answer:a.answer.value,answer_uid:a.answer.uid}))}))}},{key:"componentWillUnmount",value:function(){var e=this.props.match.params.id;j.a.database().ref("/session/"+e).off()}},{key:"handleAnswerText",value:function(e){this.setState({your_answer:e.target.value})}},{key:"submitAnswer",value:function(e){var t=this.props.match.params.id;j.a.database().ref("/session/"+t+"/answer").set({value:this.state.your_answer,uid:this.state.your_uid})}},{key:"render",value:function(){return this.state.start?""===this.state.answer_uid?x.a.createElement("div",null,x.a.createElement("h1",null,"7 X 9"),x.a.createElement(ae.a,{name:"Multiplication input",onChange:this.handleAnswerText.bind(this)}),x.a.createElement(A.a,{style:{marginLeft:10},variant:"contained",onClick:this.submitAnswer.bind(this)},"Submit")):(e=this.state.answer_uid===this.state.your_uid?"63"===this.state.answer?this.state.answer+" is correct. You Won!":this.state.answer+" is incorrect. You Lost!":"63"===this.state.answer?"Too slow. You Lost!":"Your opponent was wrong. You Won!",x.a.createElement("div",null,x.a.createElement("h1",null,"Game Over"),x.a.createElement("h1",null,e))):x.a.createElement("div",null,x.a.createElement("h1",null,"Waiting for opponent"),x.a.createElement(c.a,{size:60}));var e}}]),t}(w.Component),Se=a(37),Ce=a.n(Se),Oe=a(77),je=a.n(Oe),Ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={playerOne:"",playerOneHealth:0,playerOneTrainer:"",playerTwo:"",playerTwoHealth:0,playerTwoTrainer:""},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id;this.sessionDatabaseRef=j.a.database().ref("/session/"+t);var a=j.a.auth().currentUser.uid;this.sessionDatabaseRef.on("value",(function(t){var s=t.val();null!==s&&(s.playerOne?s.playerTwo||a===s.playerOne||e.sessionDatabaseRef.update({playerTwo:a}):e.sessionDatabaseRef.update({playerOne:a}),e.setState({playerOne:s.playerOne,playerOneHealth:s.playerOneHealth,playerTwo:s.playerTwo,playerTwoHealth:s.playerTwoHealth}))}))}},{key:"randomNumber",value:function(){return Math.floor(25*Math.random())+5}},{key:"playerOneAttack",value:function(){this.sessionDatabaseRef.update({playerTwoHealth:this.state.playerTwoHealth-this.randomNumber()})}},{key:"playerTwoAttack",value:function(){this.sessionDatabaseRef.update({playerOneHealth:this.state.playerOneHealth-this.randomNumber()})}},{key:"gameReset",value:function(){this.sessionDatabaseRef.update({playerOneHealth:100}),this.sessionDatabaseRef.update({playerTwoHealth:100})}},{key:"runScene",value:function(){console.log("Scene is Running")}},{key:"checkWin",value:function(){}},{key:"render",value:function(){var e;return this.state.playerOneHealth<=0?(e=x.a.createElement("h1",null,se.getName(this.state.playerTwo)," Wins"),this.gameReset()):this.state.playerTwoHealth<=0&&(e=x.a.createElement("h1",null,se.getName(this.state.playerOne)," Wins"),this.gameReset()),x.a.createElement("div",{className:"pokemon"},x.a.createElement("div",{id:"mainTitle"},x.a.createElement("h1",null," Pokemon Universe! "),x.a.createElement(Ce.a,{label:"Start/Reset",primary:!0,onClick:this.gameReset.bind(this)}),e),x.a.createElement("div",{className:"playerOne"},x.a.createElement("h2",null,"Player 1: ",se.getName(this.state.playerOne)),x.a.createElement(je.a,{src:se.getPhotoUrl(this.state.playerOne)}),x.a.createElement("h3",null," HP ",this.state.playerOneHealth," "),x.a.createElement("div",{className:"fixed-btns"},x.a.createElement(Ce.a,{className:"Attack1",label:"Attack",onClick:this.playerOneAttack.bind(this)}),x.a.createElement(Ce.a,{className:"Attack2",label:"Run",onClick:this.gameReset.bind(this)}),x.a.createElement(Ce.a,{className:"Attack3",label:"random1"}),x.a.createElement(Ce.a,{className:"Attack4",label:"random2"}))),x.a.createElement("div",{id:"mainBox"},x.a.createElement("img",{alt:"",className:"battleImage",src:"https://raw.githubusercontent.com/ijgreenidge/studio-multiplayer-game/master/src/images/Background1.png"})),x.a.createElement("div",{class:"playerTwo"},x.a.createElement("div",{id:"playerInfo2"},x.a.createElement("h2",null,"Player 2: ",se.getName(this.state.playerTwo)),x.a.createElement("h3",null," HP ",this.state.playerTwoHealth," "),x.a.createElement(je.a,{src:se.getPhotoUrl(this.state.playerTwo)})),x.a.createElement("div",{className:"fixed-btns"},x.a.createElement(Ce.a,{className:"Attack1",label:"Attack",onClick:this.playerTwoAttack.bind(this)}),x.a.createElement(Ce.a,{className:"Attack2",label:"Run",onClick:this.gameReset.bind(this)}),x.a.createElement(Ce.a,{className:"Attack3",label:"random1"}),x.a.createElement(Ce.a,{className:"Attack4",label:"random2"}))))}}]),t}(w.Component),Ue=500,De=500,Ne=20,Pe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).user=j.a.auth().currentUser.uid,a.isCreator=a.user===e.location.state.creator,a.session=j.a.database().ref("/session/".concat(e.location.state.id)),a.isCreator?a.player=a.session.child("left"):a.player=a.session.child("right"),a.ball=a.session.child("ball"),a.state={winner:!1,started:!1},a.started=a.session.child("started"),a.started.on("value",(function(e){e.val()&&a.onGameStarted()})),a.winner=a.session.child("winner"),a.winner.on("value",(function(e){!1!==e.val()&&a.onGameOver()})),a.session.on("value",(function(e){a.setState(e.val())})),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"onGameStarted",value:function(){var e=this;if(this.isCreator){var t={winner:!1,started:!0,ball:{x:230,y:230,dx:-3*Math.random()-2,dy:6*Math.random()-3},left:{userid:this.user,height:200},right:{height:200}};1===this.props.location.state.users.length?t.right.userid=0:this.props.location.state.users.forEach((function(a){a!==e.user&&(t.right.userid=a)})),this.session.set(t),this.setState(t),this.interval=setInterval((function(){return e.gameLoop()}),10)}}},{key:"gameLoop",value:function(){this.updateBall(),0===this.state.right.userid&&this.session.update({"right/height":this.state.ball.y+Ne-50})}},{key:"updateBall",value:function(){var e=this.state.ball,t=e.x,a=e.y,s=e.dx,n=e.dy;t<=20&&a+40>=this.state.left.height&&a<=this.state.left.height+100||t+40>=480&&a+40>=this.state.right.height&&a<=this.state.right.height+100?s=-s:t<=0?this.winner.set(this.state.right.userid):t+40>=Ue&&this.winner.set(this.state.left.userid),(a<=0||a+40>=De)&&(n=-n),this.ball.update({x:t+s,y:a+n,dx:s,dy:n})}},{key:"onMouseMove",value:function(e){this.player.update({height:e.clientY-100})}},{key:"onGameOver",value:function(e){this.interval&&(clearInterval(this.interval),this.interval=!1),this.state.started&&this.started.set(!1)}},{key:"componentWillUnmount",value:function(){this.session.off(),this.started.off(),this.winner.off(),this.onGameOver()}},{key:"render",value:function(){var e=this;return!1===this.state.started?x.a.createElement("div",{style:{textAlign:"center"}},!1!==this.state.winner&&x.a.createElement("h1",null,"Game Over: ",0===this.state.winner?"Computer":se.getName(this.state.winner)," won"),x.a.createElement(A.a,{style:{margin:10},variant:"contained",onClick:function(){return e.started.set(!0)}},"Start Game"),x.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},x.a.createElement(v.a,{variant:"title"},"Users:"),this.props.location.state.users.map((function(e){return x.a.createElement($.a,{key:e,style:{marginLeft:10},src:se.getPhotoUrl(e)})})))):x.a.createElement("div",{style:{margin:"30px auto",position:"relative",backgroundColor:"black",width:Ue+"px",height:De+"px",cursor:"none"},onMouseMove:function(t){return e.onMouseMove(t)}},x.a.createElement("div",{style:{position:"absolute",backgroundColor:"white",width:"10px",height:"100px",top:this.state.left.height+"px",left:"10px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:"white",width:"10px",height:"100px",top:this.state.right.height+"px",right:"10px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:"white",width:"40px",height:"40px",borderRadius:"20px",top:this.state.ball.y+"px",left:this.state.ball.x+"px"}}))}}]),t}(w.Component),Te={Rock:{Rock:"Tie: Rock v Rock",Paper:"You lost: Paper covers Rock",Scissors:"You won! Rock beats Scissors"},Paper:{Rock:"You won! Paper covers Rock",Paper:"Tie: Paper v Paper",Scissors:"You lost: Scissors cuts Paper"},Scissors:{Rock:"You lost: Rock beats Scissors",Paper:"You won! Scissors cuts Paper",Scissors:"Tie: Scissors v Scissors"}},Re=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={choice:"",opponent:""},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"onSessionDataChanged",value:function(e){for(var t in e)t===this.getMyUserId()?this.setState({choice:e[t]}):this.setState({opponent:e[t]})}},{key:"select",value:function(e){var t={};t[this.getMyUserId()]=e,this.getSessionDatabaseRef().set(t,(function(e){e&&console.error("Error storing session metadata",e)})),this.setState({choice:e})}},{key:"render",value:function(){var e=this;return""===this.state.choice?x.a.createElement("div",null,x.a.createElement("h1",null,"Make your choice!"),x.a.createElement("div",null,x.a.createElement(A.a,{onClick:function(){return e.select("Rock")}},"Rock"),x.a.createElement(A.a,{color:"primary",onClick:function(){return e.select("Paper")}},"Paper"),x.a.createElement(A.a,{color:"secondary",onClick:function(){return e.select("Scissors")}},"Scissors"))):""===this.state.opponent?x.a.createElement("div",null,x.a.createElement("h1",null,"Waiting for opponent"),x.a.createElement(c.a,{size:60})):x.a.createElement("div",null,x.a.createElement("h1",null,"Game Over"),x.a.createElement("h2",null,Te[this.state.choice][this.state.opponent]))}}]),t}(ee),Ae=a(60),Me=a.n(Ae),Le=a(154),_e=a(230),We=a.n(_e),Ge=a(231),Be=a.n(Ge),Fe=a(90),He=a.n(Fe),Ye=a(61),qe=a.n(Ye),ze=a(152),Ke=a.n(ze),Xe=a(155),Ve=a.n(Xe),Je={root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},gridList:{width:500,height:450,overflowY:"auto"}},Qe={position:"fixed",right:24,bottom:24,marginBottom:0,zIndex:998},Ze=function(e){function t(e){var a;Object(s.a)(this,t);var n="/session/"+(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).props.match.params.id;return a.sessionRef=j.a.database().ref(n),a.state={posts:[],urlInput:"",userInput:"",open:!1},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"handleClose",value:function(){this.sessionRef.push({user:this.state.userInput,name:"",image:this.state.urlInput}),this.setState({open:!1,input:""})}},{key:"handleCancel",value:function(){this.setState({open:!1,input:""})}},{key:"handleUserChange",value:function(e,t){this.setState({userInput:t})}},{key:"handleUrlChange",value:function(e,t){this.setState({urlInput:t})}},{key:"componentWillMount",value:function(){var e=this;this.sessionRef.on("value",(function(t){return e.setState({posts:t.val()?Object.values(t.val()):[]})}))}},{key:"componentWillUnmount",value:function(){}},{key:"handleKeyEvent",value:function(e){}},{key:"render",value:function(){var e=this,t=[x.a.createElement(qe.a,{label:"POST",primary:!0,onClick:function(){return e.handleClose()}}),x.a.createElement(qe.a,{label:"CANCEL",secondary:!0,onClick:function(){return e.handleCancel()}})];return x.a.createElement("div",{className:"spark",style:{margin:56}},x.a.createElement(He.a,{title:"Paste your url...",actions:t,modal:!1,open:this.state.open},x.a.createElement(Me.a,{onChange:function(t,a){return e.handleUrlChange(t,a)},hintText:"Paste your url ",floatingLabelText:"Photo url "}),x.a.createElement(Me.a,{onChange:function(t,a){return e.handleUserChange(t,a)},hintText:"Enter your username",floatingLabelText:"Username"})),x.a.createElement(Le.GridList,{cellHeight:"auto",style:Je.gridList},this.state.posts.map((function(e){return x.a.createElement(Le.GridTile,{title:e.name},x.a.createElement("img",{alt:"",src:e.image}))}))),x.a.createElement("div",{class:"blurb"},x.a.createElement("h1",null,"Spark"),x.a.createElement("p",null,"Spark is a modern photo-sharing app aimed at connecting you with the things you cherish and care about---in our case, it was cats. It is a combination of our favorite social media apps: the roasting of black Twitter, the stalking of Instagram for \u201creliable\u201d ads, and organizing a life you\u2019ll never have on Pinterest. It consists of a platform to share photos, and a bar that always tells you who of the people you follow is currently online. It is an innovative app that allows you to---"),x.a.createElement("p",null," M\u2019baku: Are you done?")),x.a.createElement("div",{class:"list"},x.a.createElement(re.List,null,x.a.createElement(Ke.a,null,"Currently online are..."),x.a.createElement(re.ListItem,{primaryText:"Ramata Williams Bah",leftAvatar:x.a.createElement(je.a,{src:"https://i.pinimg.com/236x/12/e4/36/12e436feb149808f974bfdb9a61c4eef--amazing-sketches-instagram-fashion.jpg"}),rightIcon:x.a.createElement(Ve.a,null)}),x.a.createElement(re.ListItem,{primaryText:"Andrea Cajamarca",leftAvatar:x.a.createElement(je.a,{src:"https://www.toonpool.com/user/4550/files/salma_hayek_721035.jpg"}),rightIcon:x.a.createElement(Ve.a,null)}))),x.a.createElement(We.a,{secondary:!0,style:Qe,onClick:function(){return e.handleOpen()}},x.a.createElement(Be.a,null)))}}]),t}(w.Component),$e=" ",et="X",tt="0",at=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={cellState:new Array(9).fill($e),currentUser:a.getSessionCreatorUserId()},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"onSessionDataChanged",value:function(e){this.setState({cellState:e.cell_state,currentUser:e.current_user})}},{key:"isMyTurn",value:function(){return this.state.currentUser===this.getMyUserId()}},{key:"getMyCellState",value:function(){return this.getSessionCreatorUserId()===this.getMyUserId()?et:tt}},{key:"getOtherUser",value:function(){var e=this;return this.getSessionUserIds().find((function(t){return t!==e.getMyUserId()}))}},{key:"playTurn",value:function(e){var t=this.state.cellState.slice();t[e]=this.getMyCellState();var a={cell_state:t,current_user:this.getOtherUser()};this.getSessionDatabaseRef().set(a,(function(e){e&&console.error("Error updating TicTacToe state",e)}))}},{key:"getWinner",value:function(){var e=this,t=function(t){var a=e.state.cellState,s=function(e){return e===t};return a.slice(0,3).every(s)||a.slice(3,6).every(s)||a.slice(6,9).every(s)||[a[0],a[3],a[6]].every(s)||[a[1],a[4],a[7]].every(s)||[a[2],a[5],a[8]].every(s)||[a[0],a[4],a[8]].every(s)||[a[2],a[4],a[6]].every(s)};return t(et)?et:t(tt)?tt:null}},{key:"render",value:function(){var e,t=this,a=se.getName(this.state.currentUser),s=this.getWinner();e=null!==s?s+" WINS!":this.state.cellState.every((function(e){return e!==$e}))?"Draw! Game over.":this.isMyTurn()?"It's YOUR turn, go!":"It's "+a+"'s turn, wait...";var n=null!==s||!this.isMyTurn(),i=this.state.cellState.map((function(e,a){return x.a.createElement(A.a,{key:a,variant:"outlined",style:{height:36},onClick:function(){return t.playTurn(a)},disabled:n||e!==$e},e)}));return x.a.createElement("center",null,x.a.createElement("h1",null,e),i.slice(0,3),x.a.createElement("br",null),i.slice(3,6),x.a.createElement("br",null),i.slice(6,9))}}]),t}(ee),st=a(157),nt=(a(509),function(e){function t(e){var a;Object(s.a)(this,t);var n={};return n[(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).getMyUserId()]=0,a.state=n,a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"onSessionDataChanged",value:function(e){this.setState(e)}},{key:"componentDidMount",value:function(){Object(st.a)(Object(r.a)(t.prototype),"componentDidMount",this).call(this),this.setDocumentKeyPressHandler()}},{key:"setDocumentKeyPressHandler",value:function(){var e=this;document.body.onkeyup=function(t){if(32===t.keyCode&&!e.gameOver()){var a=e.getMyUserId(),s=e.state[a]+1;e.getSessionDatabaseRef().child(a).set(s)}}}},{key:"gameOver",value:function(){return Math.abs(this.getSpaceBarDifference())>=25}},{key:"componentWillUnmount",value:function(){document.body.onkeyup=null,Object(st.a)(Object(r.a)(t.prototype),"componentWillUnmount",this).call(this)}},{key:"getSpaceBarDifference",value:function(){var e=this,t=this.getSessionUserIds().map((function(t){return e.state[t]}));return t[0]-t[1]}},{key:"getWinnerUserId",value:function(){var e=this.getSessionUserIds().map((function(e){return se.getName(e)}));return this.getSpaceBarDifference()<0?e[1]:e[0]}},{key:"onResetButtonClicked",value:function(){var e=this.getSessionUserIds(),t={};t[e[0]]=0,t[e[1]]=0,this.getSessionDatabaseRef().update(t)}},{key:"render",value:function(){var e=this,t="TBD",a=x.a.createElement("div",null);this.gameOver()&&(t=this.getWinnerUserId(),a=x.a.createElement("button",{onClick:function(){return e.onResetButtonClicked()}},"Reset"));var s=15*this.getSpaceBarDifference();return x.a.createElement("div",null,x.a.createElement("div",{className:"text-Cen"},x.a.createElement("h3",null,"HIT SPACE BAR AND WIN !!!!!"),x.a.createElement("br",null),x.a.createElement("h1",null,"Winner: ",t),x.a.createElement("br",null),x.a.createElement("div",null,a),x.a.createElement("br",null)),x.a.createElement("div",{className:"main"},x.a.createElement("div",{className:"ropeBorder"},x.a.createElement("div",{className:"rope ",style:{marginLeft:s}},x.a.createElement("div",{className:"marker"})))))}}]),t}(ee)),it=a(112),rt=[["Which ocean lies on the east coast of the United States?","Atlantic Ocean"],["What is the 5th president of the United States?","Donald Trump"],["Whos face is on a one dollor bill?","George Washignton"],["How many State in the USA?","50"],["What year was America found?","1600"],["What is the worlds largest mountain?","Mount Everest"],["How many great lakes are there?","5"],["What is the longest River in the US?","Missouri River"],["The biggest desert in the world is...","Sahara"],["How many Kindoms is the United Kindom comprised of?","4"],["Dry Ice is a Frozen form of which gas?","Carbon Dioxide"],["What is the longest river in the world?","Nile River"],["What is the largest body of water?","Pacific Ocean"],["What is the most popular country?","China"],["What is the capital of IceLand?","Reykjavik"],["What continent is the largest in terms of land?","Asia"],["What is the largest mountain range in the world?","Andes"],["What is the smallest country in the world?","Vatican City"],["What is the river that runs through Paris, France is called?","The Seine"],["What is the most common speaking language in the world?","English"],["What is the name of the household garget that South Karean people believe can kill you?","Electric fan"]],ot=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).handleOpen=function(e){a.setState({open:!0,choice:e}),console.log(e)},a.handleInsertQChange=function(e){a.setState({insertQ:e.target.value})},a.handleInsertAChange=function(e){a.setState({insertA:e.target.value})},a.handleSubmit=function(){var e=j.a.auth().currentUser.uid,t=a.state.insertA||"",s=a.state.insertQ||"",n=a.props.match.params.id,i=j.a.database().ref("/session/"+n);a.creator?i.child("question1").push({question:s,answer:t,uid:e}):i.child("question2").push({question:s,answer:t,uid:e})},a.handleClose=function(){var e=a.check(a.state.choice,a.creator?a.state.answer:a.state.answer2);if(console.log(e,a.state.choice,a.state.answer,a.state.answer2),e){var t=a.props.match.params.id,s=j.a.database().ref("/session/"+t);a.creator?s.child("tally1").set(a.state.tally1+1,(function(e){e&&console.error("Error storing session metadata",e)})):s.child("tally2").set(a.state.tally2+1,(function(e){e&&console.error("Error storing session metadata",e)})),a.setState({open:!1})}else a.setState({open:!1,answerIsCorrect:e})},a.reset=function(){a.setState({open:!1,tally1:0,tally2:0,answerIsCorrect:!1,hidden:!0,cUser:a.props.location.state.creator,winner:"",isGameFinished:!1})},a.handleChange=function(e){return function(e){a.creator?a.setState({answer:e.target.value}):a.setState({answer2:e.target.value})}},a.state={choice:"",opponent:"",answer:"",answer2:"",tally1:0,tally2:0,answerIsCorrect:!1,hidden:!0,open:!1,cUser:a.props.location.state.creator,winner:"",isGameFinished:!1,question1:[],question2:[]};var n=j.a.auth().currentUser.uid;return a.creator=e.location.state.creator===n,a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id;j.a.database().ref("/session/"+t).on("value",(function(t){var a=t.val();if(null!==a){var s=0,n=0,i=[],r=[];a.tally1&&(s=a.tally1),a.tally2&&(n=a.tally2),a.question1&&(i=Object.values(a.question1)),a.question2&&(r=Object.values(a.question2)),s+n===21?s>n?e.setState({winner:"Player 1 Wins!!",isGameFinished:!0}):e.setState({winner:"Player 2 Wins!!",isGameFinished:!0}):e.setState({isGameFinished:!1}),e.setState({tally1:s,tally2:n,cUser:a.current_user,question1:i,question2:r})}}))}},{key:"sayMessage",value:function(){this.setState({message:rt})}},{key:"toggleHidden",value:function(){this.setState({hidden:!this.state.hidden})}},{key:"check",value:function(e,t){return t===e[1]}},{key:"render",value:function(){var e=this,t=rt.map((function(t){return x.a.createElement("li",{className:"question",key:t,onClick:function(){return e.handleOpen(t)}}," ",t[0]," ")})),a=this.state.question1.map((function(t){return x.a.createElement("li",{className:"question",key:t,onClick:function(){return e.handleOpen([t.question,t.answer])}}," ",t.question," ")})),s=this.state.question2.map((function(t){return x.a.createElement("li",{className:"question",key:t,onClick:function(){return e.handleOpen([t.question,t.answer])}}," ",t.question," ")})),n=[x.a.createElement(qe.a,{label:"Cancel",primary:!0,onClick:function(){console.log(1),e.handleClose()}}),x.a.createElement(qe.a,{label:"Submit",primary:!0,keyboardFocused:!0,onClick:this.handleClose})];return x.a.createElement("div",{className:"twentyonequestion"},x.a.createElement("center",null,x.a.createElement("h1",null,"Welcome to 21 Questions!")),x.a.createElement("div",null,x.a.createElement(it.Tabs,{value:this.state.value,onChange:this.handleChange},x.a.createElement(it.Tab,{label:"Questions",value:"a"},x.a.createElement("div",null,x.a.createElement("ol",null,t,this.creator?s:a),x.a.createElement("div",{style:{flexDirection:"row"}},x.a.createElement("h1",null,"Tally"),x.a.createElement("hr",null),x.a.createElement("h2",{style:{marginLeft:"auto"}},"Player 1: ",this.state.tally1),x.a.createElement("h2",{style:{marginLeft:"auto"}},"Player 2: ",this.state.tally2)))),x.a.createElement(it.Tab,{label:"Input your own Question",value:"b"},x.a.createElement("div",null,x.a.createElement("br",null),x.a.createElement("div",null,x.a.createElement(Me.a,{id:"text-field-default",onChange:e.handleInsertQChange,placeholder:"Question"}),x.a.createElement("br",null),x.a.createElement(Me.a,{id:"text-field-default",onChange:e.handleInsertAChange,placeholder:"Answer"}),x.a.createElement("br",null),x.a.createElement(qe.a,{label:"Submit",primary:!0,keyboardFocused:!0,onClick:e.handleSubmit})),x.a.createElement("br",null)))),x.a.createElement(He.a,{title:"Answer Question",actions:n,modal:!1,open:e.state.open,onRequestClose:e.handleClose},x.a.createElement("p",null,e.state.choice[0]),x.a.createElement(Me.a,{id:"text-field-default",placeholder:"Answer",value:e.creator?e.state.answer:e.state.answer2,onChange:e.handleChange()})),x.a.createElement(He.a,{title:"Winner",actions:n,modal:!1,open:e.state.isGameFinished,onRequestClose:e.reset},x.a.createElement("h1",null,e.state.winner))))}}]),t}(w.Component),lt=(a(514),document.body.clientWidth-200),ct=document.body.clientWidth,ut=(ct-lt)/2,ht=lt/2-5,pt=0,dt=[],mt={0:"black",1:"red",2:"yellow",3:"blue"},ft=function e(t,a,n,i){Object(s.a)(this,e);var r=Math.floor(3*Math.random())+1;this.width=n,this.height=i,this.top=t,this.left=a,this.durabilityNum=r,this.color=mt[r],this.save=function(){return{width:this.width,height:this.height,top:this.top,left:this.left,durability:this.durabilityNum,color:this.color}}},bt=new ft(10,10,lt/20,20),gt=new ft(10,lt/20+20,lt/20,20),yt=new ft(10,lt/20*2+30,lt/20,20),vt=new ft(10,lt/20*3+40,lt/20,20),kt=new ft(10,lt/20*4+50,lt/20,20),Et=new ft(10,lt/20*5+60,lt/20,20),wt=new ft(120,10,lt/20,20),xt=new ft(120,lt/20+20,lt/20,20),St=new ft(120,lt/20*2+30,lt/20,20),Ct=new ft(120,lt/20*3+40,lt/20,20),Ot=new ft(120,lt/20*4+50,lt/20,20),jt=new ft(120,lt/20*5+60,lt/20,20),It=new ft(230,10,lt/20,20),Ut=new ft(230,lt/20+20,lt/20,20),Dt=new ft(230,lt/20*2+30,lt/20,20),Nt=new ft(230,lt/20*3+40,lt/20,20),Pt=new ft(230,lt/20*4+50,lt/20,20),Tt=new ft(230,lt/20*5+60,lt/20,20),Rt=[bt,gt,yt,vt,kt,Et,wt,xt,St,Ct,Ot,jt,It,Ut,Dt,Nt,Pt,Tt],At=new ft(10,ht+10+10,lt/20,20),Mt=new ft(10,lt/20+ht+10+20,lt/20,20),Lt=new ft(10,lt/20*2+ht+10+30,lt/20,20),_t=new ft(10,lt/20*3+ht+10+40,lt/20,20),Wt=new ft(10,lt/20*4+ht+10+50,lt/20,20),Gt=new ft(10,lt/20*5+ht+10+60,lt/20,20),Bt=new ft(120,ht+10+10,lt/20,20),Ft=new ft(120,lt/20+ht+10+20,lt/20,20),Ht=new ft(120,lt/20*2+ht+10+30,lt/20,20),Yt=new ft(120,lt/20*3+ht+10+40,lt/20,20),qt=new ft(120,lt/20*4+ht+10+50,lt/20,20),zt=new ft(120,lt/20*5+ht+10+60,lt/20,20),Kt=new ft(230,ht+10+10,lt/20,20,1),Xt=new ft(230,lt/20+ht+10+20,lt/20,20,1),Vt=new ft(230,lt/20*2+ht+10+30,lt/20,20,1),Jt=new ft(230,lt/20*3+ht+10+40,lt/20,20,1),Qt=new ft(230,lt/20*4+ht+10+50,lt/20,20,1),Zt=new ft(230,lt/20*5+ht+10+60,lt/20,20,1),$t=[At,Mt,Lt,_t,Wt,Gt,Bt,Ft,Ht,Yt,qt,zt,Kt,Xt,Vt,Jt,Qt,Zt],ea=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).user=j.a.auth().currentUser.uid,a.session=j.a.database().ref("/session/".concat(e.location.state.id)),a.isCreator=a.user===e.location.state.creator,a.users=a.getSessionUserIds().map((function(e){return se.getName(e)})),a.creator=se.getName(a.getSessionCreatorUserId()),a.interval=setInterval((function(){return a.ballMove()}),10),a.state={ball:{left:lt/4,top:630,ballR:10,ballSpeedX:-4,ballSpeedY:-3},ball2:{left2:3*lt/4,top2:630,ballR2:10,ballSpeedX2:-4,ballSpeedY2:-3},you:{score:0,left:lt/2,blocks:[bt.save(),gt.save(),yt.save(),vt.save(),kt.save(),Et.save(),wt.save(),xt.save(),St.save(),Ct.save(),Ot.save(),jt.save(),It.save(),Ut.save(),Dt.save(),Nt.save(),Pt.save(),Tt.save()]},p2:{left:3*lt/4,score:0,blocks:[At.save(),Mt.save(),Lt.save(),_t.save(),Wt.save(),Gt.save(),Bt.save(),Ft.save(),Ht.save(),Yt.save(),qt.save(),zt.save(),Kt.save(),Xt.save(),Vt.save(),Jt.save(),Qt.save(),Zt.save()],win:!1}},a.getSessionDatabaseRef().set({ball:a.state.ball,ball2:a.state.ball2,P1:{name:a.users[0],x_cord:a.state.you.left,score:a.state.you.score,blocks:[bt.save(),gt.save(),yt.save(),vt.save(),kt.save(),Et.save(),wt.save(),xt.save(),St.save(),Ct.save(),Ot.save(),jt.save(),It.save(),Ut.save(),Dt.save(),Nt.save(),Pt.save(),Tt.save()],win:!1},P2:{name:a.users[1],x_cord:a.state.p2.left,score:a.state.p2.score,blocks:[At.save(),Mt.save(),Lt.save(),_t.save(),Wt.save(),Gt.save(),Bt.save(),Ft.save(),Ht.save(),Yt.save(),qt.save(),zt.save(),Kt.save(),Xt.save(),Vt.save(),Jt.save(),Qt.save(),Zt.save()],win:!1}}),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"checkWin",value:function(){if(this.isCreator){pt=0;for(var e=0;e<Rt.length;e++)0===Rt[e].durabilityNum&&(pt+=1,dt.push(Rt[e]),pt===Rt.length&&this.getSessionDatabaseRef().update({P1:{name:this.users[0],x_cord:this.state.you.left,score:pt,blocks:this.state.you.blocks,win:!0}}))}else{pt=0;for(var t=0;t<$t.length;t++)0===$t[t].durabilityNum&&(pt+=1)===$t.length&&this.getSessionDatabaseRef().update({P2:{name:this.users[1],x_cord:this.state.p2.left,score:pt,blocks:this.state.p2.blocks,win:!0}})}}},{key:"ballMove",value:function(){if(this.checkWin(),this.isCreator){var e=this.state.ball,t=e.left,a=e.top,s=e.ballR,n=e.ballSpeedX,i=e.ballSpeedY;(t+s/2>lt||s+t<0)&&(n=-n),(a+s/2>700||a<0)&&(i=-i),t+s>ht&&(n=-n),this.state.you.left-ut-50<t+s&&this.state.you.left-ut+50>t&&a+s>=680&&a<=690&&(i=-i);for(var r=0;r<Rt.length;r++){var o=Rt[r];t+s>=Rt[r].left&&t+s<=Rt[r].left+2||t>=Rt[r].left+Rt[r].width-2&&t<=Rt[r].left+Rt[r].width?(a+s<=Rt[r].top+Rt[r].height&&a+s>=Rt[r].top||a<=Rt[r].top+Rt[r].height&&a>=Rt[r].top)&&(n=-n,o.durabilityNum-=1,this.checkBlock(o)):t+s<=Rt[r].left+Rt[r].width&&t+s>=Rt[r].left?(a+s<=Rt[r].top+2&&a+s>=Rt[r].top||a<=Rt[r].top+Rt[r].height&&a>=Rt[r].top+Rt[r].height-2)&&(i=-i,o.durabilityNum-=1,this.checkBlock(o)):t<=Rt[r].left+Rt[r].height&&t>=Rt[r].width+Rt[r].left-2&&(a>=Rt[r].top&&a<=Rt[r].top+Rt[r].height||a+s>=Rt[r].top&&a+s<=Rt[r].top+Rt[r].height)&&(n=-n,o.durabilityNum-=1,this.checkBlock(o))}this.getSessionDatabaseRef().update({ball:{left:t+n,top:a+i,ballR:s,ballSpeedX:n,ballSpeedY:i}})}else{var l=this.state.ball2,c=l.left2,u=l.top2,h=l.ballR2,p=l.ballSpeedX2,d=l.ballSpeedY2;if((c+h>lt||h+c<ht+10)&&(p=-p),(u+h>700||u<0)&&(d=-d),c-h<ht+10&&(p=-p),this.state.p2.left-ut-50<c&&this.state.p2.left-ut+50>c+h)if(u+h>=680&&u<=690)d=-d,n=.25*(t-(this.state.p2.left-ut+5));for(var m=0;m<$t.length;m++){var f=$t[m];c+h>=$t[m].left&&c+h<=$t[m].left+2||c>=$t[m].left+$t[m].width-2&&c<=$t[m].left+$t[m].width?(u+h<=$t[m].top+$t[m].height&&u+h>=$t[m].top||u<=$t[m].top+$t[m].height&&u>=$t[m].top)&&(p=-p,f.durabilityNum-=1,this.checkBlock(f)):c+h<=$t[m].left+$t[m].width&&c+h>=$t[m].left?(u+h<=$t[m].top+2&&u+h>=$t[m].top||u<=$t[m].top+$t[m].height&&u>=$t[m].top+$t[m].height-2)&&(d=-d,f.durabilityNum-=1,this.checkBlock(f)):c<=$t[m].left+$t[m].height&&c>=$t[m].left+Rt[m].width-2&&(u+h<=$t[m].top+$t[m].height&&u+h>=$t[m].top?(p=-p,f.durabilityNum-=1,this.checkBlock(f)):u<=$t[m].top+$t[m].height&&u>=$t[m].top&&(p=-p,f.durabilityNum-=1,this.checkBlock(o)))}this.getSessionDatabaseRef().update({ball2:{left2:c+p,top2:u+d,ballR2:h,ballSpeedX2:p,ballSpeedY2:d}})}}},{key:"checkBlock",value:function(e){e.color=mt[e.durabilityNum],e.durabilityNum<=0&&(e.height=0,e.width=0,e.left=-10,e.top=-10),this.isCreator?this.getSessionDatabaseRef().update({P1:{name:this.users[0],x_cord:this.state.you.left,score:pt,blocks:[bt.save(),gt.save(),yt.save(),vt.save(),kt.save(),Et.save(),wt.save(),xt.save(),St.save(),Ct.save(),Ot.save(),jt.save(),It.save(),Ut.save(),Dt.save(),Nt.save(),Pt.save(),Tt.save()]}}):this.getSessionDatabaseRef().update({P2:{name:this.users[1],x_cord:this.state.p2.left,score:pt,blocks:[At.save(),Mt.save(),Lt.save(),_t.save(),Wt.save(),Gt.save(),Bt.save(),Ft.save(),Ht.save(),Yt.save(),qt.save(),zt.save(),Kt.save(),Xt.save(),Vt.save(),Jt.save(),Qt.save(),Zt.save()]}})}},{key:"onMouseMove",value:function(e){this.isCreator&&e.clientX<ht+10+50&&e.clientX>150&&this.getSessionDatabaseRef().update({P1:{name:this.users[0],x_cord:e.clientX,score:this.state.you.score,blocks:[bt.save(),gt.save(),yt.save(),vt.save(),kt.save(),Et.save(),wt.save(),xt.save(),St.save(),Ct.save(),Ot.save(),jt.save(),It.save(),Ut.save(),Dt.save(),Nt.save(),Pt.save(),Tt.save()]}}),se.getName(this.user)===this.users[1]&&e.clientX>ht+10+150&&e.clientX<ct-150&&this.getSessionDatabaseRef().update({P2:{name:this.users[1],x_cord:e.clientX,score:this.state.p2.score,blocks:[At.save(),Mt.save(),Lt.save(),_t.save(),Wt.save(),Gt.save(),Bt.save(),Ft.save(),Ht.save(),Yt.save(),qt.save(),zt.save(),Kt.save(),Xt.save(),Vt.save(),Jt.save(),Qt.save(),Zt.save()]}})}},{key:"onSessionDataChanged",value:function(e){var t=null;!0===e.P1.win?t="p1":!0===e.P2.win&&(t="p2"),this.setState({ball:{left:e.ball.left,top:e.ball.top,ballR:e.ball.ballR,ballSpeedX:e.ball.ballSpeedX,ballSpeedY:e.ball.ballSpeedY},ball2:{left2:e.ball2.left2,top2:e.ball2.top2,ballR2:e.ball2.ballR2,ballSpeedX2:e.ball2.ballSpeedX2,ballSpeedY2:e.ball2.ballSpeedY2},you:{score:e.P1.score,left:e.P1.x_cord,blocks:e.P1.blocks},p2:{score:e.P2.score,left:e.P2.x_cord,blocks:e.P2.blocks},win:t})}},{key:"render",value:function(){var e=this;return ct=document.body.clientWidth,ut=(ct-lt)/2,this.state.win?"p1"===this.state.win?this.users[0]===se.getName(this.user)?x.a.createElement("div",{style:{height:"800px",background:"url('http://clipart-library.com/images/8cAEdyAXi.png')  ",textAlign:"center"}},x.a.createElement("div",{className:"result",style:{zIndex:"2",display:"flex",postion:"relative",justifyContent:"center",flex:"center",paddingTop:"20px",fontSize:"30px",boxShadow:"5px 5px 12px 12px rgba(0, 0, 255, .2)",width:"50%",margin:"auto",marginTop:"20px",borderRadius:"50%",backgroundColor:"white",animationName:"gameOver",animationDuration:"3s"}},x.a.createElement("h1",null,this.users[0]," is the winner !"))):x.a.createElement("div",{style:{height:"800px",background:"url('http://cdn.shopify.com/s/files/1/0641/1521/products/pins-sad-balloon.jpg?v=1516215357') center "}},x.a.createElement("div",{className:"result",style:{zIndex:"2",display:"flex",postion:"relative",justifyContent:"center",flex:"center",paddingTop:"20px",fontSize:"30px",boxShadow:"5px 5px 12px 12px rgba(0, 0, 255, .2)",width:"50%",margin:"auto",marginTop:"20px",borderRadius:"50%",backgroundColor:"white"}},x.a.createElement("h1",null,this.users[1]," has lost !"))):this.users[0]===se.getName(this.user)?x.a.createElement("div",{style:{height:"800px",background:"url('http://cdn.shopify.com/s/files/1/0641/1521/products/pins-sad-balloon.jpg?v=1516215357') center "}},x.a.createElement("div",{className:"result",style:{zIndex:"2",display:"flex",postion:"relative",justifyContent:"center",flex:"center",paddingTop:"20px",boxShadow:"5px 5px 12px 12px rgba(0, 0, 255, .2)",width:"50%",margin:"auto",marginTop:"20px",textAlign:"center",borderRadius:"50%",backgroundColor:"white"}},x.a.createElement("h1",null,this.users[0]," has lost !"))):x.a.createElement("div",{style:{height:"800px",background:"url('http://clipart-library.com/images/8cAEdyAXi.png')  "}},x.a.createElement("div",{className:"result",style:{zIndex:"2",display:"flex",postion:"relative",justifyContent:"center",flex:"center",paddingTop:"20px",boxShadow:"5px 5px 12px 12px rgba(0, 0, 255, .2)",width:"50%",margin:"auto",marginTop:"20px",textAlign:"center",borderRadius:"50%",backgroundColor:"white"}},x.a.createElement("h1",null,this.users[1]," is the winner !"))):x.a.createElement("div",{style:{padding:"30px",width:"90%",margin:"auto",marginTop:"2%",height:"80%",boxShadow:"5px 5px 12px 12px rgba(0, 0, 255, .2)",textAlign:"center"}},x.a.createElement("div",{style:{height:"40px",width:"100%",margin:"auto",textAlign:"center",position:"relative",color:"black",padding:"1px",boxShadow:"5px 5px 12px 12px rgba(0, 0, 255, .2)"}},x.a.createElement("p",{style:{width:"50%",float:"left"}},this.users[0]," has ",this.state.you.score," points"),x.a.createElement("p",{style:{width:"50%",float:"right"}},this.users[1]," has ",this.state.p2.score," points")),x.a.createElement("div",{style:{margin:"auto ",marginTop:" 20px",position:"relative",background:"linear-gradient(217deg, rgba(255,0,0,.8), rgba(255,0,0,0) 70.71%),linear-gradient(127deg, rgba(0,255,0,.8), rgba(0,255,0,0) 70.71%), linear-gradient(336deg, rgba(0,0,255,.8), rgba(0,0,255,0) 70.71%)",width:lt+"px",height:"700px",border:"5px solid"},onMouseMove:function(t){return e.onMouseMove(t)}},x.a.createElement("div",{className:"You",style:{position:"absolute",backgroundColor:"green",width:"100px",height:"10px",top:"680px",left:this.state.you.left-ut-50+"px"}}),x.a.createElement("div",{className:"ball1",style:{position:"absolute",backgroundColor:"white",width:this.state.ball.ballR+"px",height:this.state.ball.ballR+"px",borderRadius:"50%",top:this.state.ball.top+"px",left:this.state.ball.left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[0].color,width:this.state.you.blocks[0].width+"px",height:this.state.you.blocks[0].height+"px",top:this.state.you.blocks[0].top+"px",left:this.state.you.blocks[0].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[1].color,width:this.state.you.blocks[1].width+"px",height:this.state.you.blocks[1].height+"px",top:this.state.you.blocks[1].top+"px",left:this.state.you.blocks[1].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[2].color,width:this.state.you.blocks[2].width+"px",height:this.state.you.blocks[2].height+"px",top:this.state.you.blocks[2].top+"px",left:this.state.you.blocks[2].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[3].color,width:this.state.you.blocks[3].width+"px",height:this.state.you.blocks[3].height+"px",top:this.state.you.blocks[3].top+"px",left:this.state.you.blocks[3].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[4].color,width:this.state.you.blocks[4].width+"px",height:this.state.you.blocks[4].height+"px",top:this.state.you.blocks[4].top+"px",left:this.state.you.blocks[4].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[5].color,width:this.state.you.blocks[5].width+"px",height:this.state.you.blocks[5].height+"px",top:this.state.you.blocks[5].top+"px",left:this.state.you.blocks[5].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[6].color,width:this.state.you.blocks[6].width+"px",height:this.state.you.blocks[6].height+"px",top:this.state.you.blocks[6].top+"px",left:this.state.you.blocks[6].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[7].color,width:this.state.you.blocks[7].width+"px",height:this.state.you.blocks[7].height+"px",top:this.state.you.blocks[7].top+"px",left:this.state.you.blocks[7].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[8].color,width:this.state.you.blocks[8].width+"px",height:this.state.you.blocks[8].height+"px",top:this.state.you.blocks[8].top+"px",left:this.state.you.blocks[8].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[9].color,width:this.state.you.blocks[9].width+"px",height:this.state.you.blocks[9].height+"px",top:this.state.you.blocks[9].top+"px",left:this.state.you.blocks[9].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[10].color,width:this.state.you.blocks[10].width+"px",height:this.state.you.blocks[10].height+"px",top:this.state.you.blocks[10].top+"px",left:this.state.you.blocks[10].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[11].color,width:this.state.you.blocks[11].width+"px",height:this.state.you.blocks[11].height+"px",top:this.state.you.blocks[11].top+"px",left:this.state.you.blocks[11].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[12].color,width:this.state.you.blocks[12].width+"px",height:this.state.you.blocks[12].height+"px",top:this.state.you.blocks[12].top+"px",left:this.state.you.blocks[12].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[13].color,width:this.state.you.blocks[13].width+"px",height:this.state.you.blocks[13].height+"px",top:this.state.you.blocks[13].top+"px",left:this.state.you.blocks[13].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[14].color,width:this.state.you.blocks[14].width+"px",height:this.state.you.blocks[14].height+"px",top:this.state.you.blocks[14].top+"px",left:this.state.you.blocks[14].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[15].color,width:this.state.you.blocks[15].width+"px",height:this.state.you.blocks[15].height+"px",top:this.state.you.blocks[15].top+"px",left:this.state.you.blocks[15].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[16].color,width:this.state.you.blocks[16].width+"px",height:this.state.you.blocks[16].height+"px",top:this.state.you.blocks[16].top+"px",left:this.state.you.blocks[16].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.you.blocks[17].color,width:this.state.you.blocks[17].width+"px",height:this.state.you.blocks[17].height+"px",top:this.state.you.blocks[17].top+"px",left:this.state.you.blocks[17].left+"px"}}),x.a.createElement("div",{className:"line",style:{position:"absolute",backgroundColor:"white",width:"10px",height:"inherit",left:ht+"px"}}),x.a.createElement("div",{className:"Player2",style:{position:"absolute",backgroundColor:"purple",width:"100px",height:"10px",top:"680px",left:this.state.p2.left-ut-50+"px"}}),x.a.createElement("div",{className:"ball2",style:{position:"absolute",backgroundColor:"white",width:this.state.ball2.ballR2+"px",height:this.state.ball2.ballR2+"px",borderRadius:"50%",top:this.state.ball2.top2+"px",left:this.state.ball2.left2+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[0].color,width:this.state.p2.blocks[0].width+"px",height:this.state.p2.blocks[0].height+"px",top:this.state.p2.blocks[0].top+"px",left:this.state.p2.blocks[0].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[1].color,width:this.state.p2.blocks[1].width+"px",height:this.state.p2.blocks[1].height+"px",top:this.state.p2.blocks[1].top+"px",left:this.state.p2.blocks[1].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[2].color,width:this.state.p2.blocks[2].width+"px",height:this.state.p2.blocks[2].height+"px",top:this.state.p2.blocks[2].top+"px",left:this.state.p2.blocks[2].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[3].color,width:this.state.p2.blocks[3].width+"px",height:this.state.p2.blocks[3].height+"px",top:this.state.p2.blocks[3].top+"px",left:this.state.p2.blocks[3].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[4].color,width:this.state.p2.blocks[4].width+"px",height:this.state.p2.blocks[4].height+"px",top:this.state.p2.blocks[4].top+"px",left:this.state.p2.blocks[4].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[5].color,width:this.state.p2.blocks[5].width+"px",height:this.state.p2.blocks[5].height+"px",top:this.state.p2.blocks[5].top+"px",left:this.state.p2.blocks[5].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[6].color,width:this.state.p2.blocks[6].width+"px",height:this.state.p2.blocks[6].height+"px",top:this.state.p2.blocks[6].top+"px",left:this.state.p2.blocks[6].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[7].color,width:this.state.p2.blocks[7].width+"px",height:this.state.p2.blocks[7].height+"px",top:this.state.p2.blocks[7].top+"px",left:this.state.p2.blocks[7].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[8].color,width:this.state.p2.blocks[8].width+"px",height:this.state.p2.blocks[8].height+"px",top:this.state.p2.blocks[8].top+"px",left:this.state.p2.blocks[8].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[8].color,width:this.state.p2.blocks[8].width+"px",height:this.state.p2.blocks[8].height+"px",top:this.state.p2.blocks[8].top+"px",left:this.state.p2.blocks[8].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[9].color,width:this.state.p2.blocks[9].width+"px",height:this.state.p2.blocks[9].height+"px",top:this.state.p2.blocks[9].top+"px",left:this.state.p2.blocks[9].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[10].color,width:this.state.p2.blocks[10].width+"px",height:this.state.p2.blocks[10].height+"px",top:this.state.p2.blocks[10].top+"px",left:this.state.p2.blocks[10].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[11].color,width:this.state.p2.blocks[11].width+"px",height:this.state.p2.blocks[11].height+"px",top:this.state.p2.blocks[11].top+"px",left:this.state.p2.blocks[11].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[12].color,width:this.state.p2.blocks[12].width+"px",height:this.state.p2.blocks[12].height+"px",top:this.state.p2.blocks[12].top+"px",left:this.state.p2.blocks[12].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[13].color,width:this.state.p2.blocks[13].width+"px",height:this.state.p2.blocks[13].height+"px",top:this.state.p2.blocks[13].top+"px",left:this.state.p2.blocks[13].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[14].color,width:this.state.p2.blocks[14].width+"px",height:this.state.p2.blocks[14].height+"px",top:this.state.p2.blocks[14].top+"px",left:this.state.p2.blocks[14].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[15].color,width:this.state.p2.blocks[15].width+"px",height:this.state.p2.blocks[15].height+"px",top:this.state.p2.blocks[15].top+"px",left:this.state.p2.blocks[15].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[16].color,width:this.state.p2.blocks[16].width+"px",height:this.state.p2.blocks[16].height+"px",top:this.state.p2.blocks[16].top+"px",left:this.state.p2.blocks[16].left+"px"}}),x.a.createElement("div",{style:{position:"absolute",backgroundColor:this.state.p2.blocks[17].color,width:this.state.p2.blocks[17].width+"px",height:this.state.p2.blocks[17].height+"px",top:this.state.p2.blocks[17].top+"px",left:this.state.p2.blocks[17].left+"px"}})))}}]),t}(ee),ta=(a(515),a(232)),aa=a.n(ta),sa={magician:{hp:100,attack_damage:10,defense:.2,speed:10}};var na=function(e){function t(e){var a,n,o,l,c;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={p1:{characterType:"magician",playerLocation:{x:50,y:520},playerAction:{left:!1,right:!1,jump:!1,basic_attack:!1,ability_1:!1,ability_2:!1,ability_3:!1,facing:"right"}},p2:{characterType:"magician",playerLocation:{x:960,y:520},playerAction:{left:!1,right:!1,jump:!1,basic_attack:!1,ability_1:!1,ability_2:!1,ability_3:!1,facing:"left"}},sketch:(n=function(){return a.updateFirebase()},o=function(){return a.getState()},l=function(){return a.getMyUser()},c=function(){return a.identifyCharacter()},function(e){var t,a,s={normal:"",mirrored:""},i=[],r=!1;e.preload=function(){s.normal=e.loadImage("/games/fight/whole.jpg"),s.mirrored=e.loadImage("/games/fight/whole-mirror.jpg")},e.setup=function(){e.createCanvas(1080,720),e.noStroke(),e.frameRate(60),e.setupPlayerLocation(),"magician"===o().p1.characterType?t=new e.Magician(o().p1.playerLocation.x,o().p1.playerLocation.y):"warrior"===o().p1.characterType&&(t=new e.Warrior(o().p1.playerLocation.x,o().p1.playerLocation.y)),"magician"===o().p2.characterType?a=new e.Magician(o().p2.playerLocation.x,o().p2.playerLocation.y):"warrior"===o().p2.characterType&&(t=new e.Warrior(o().p2.playerLocation.x,o().p2.playerLocation.y)),console.log()},e.draw=function(){e.background(0),e.checkingAction(),t.x=o().p1.playerLocation.x,t.facing=o().p1.playerAction.facing,t.display(),a.x=o().p2.playerLocation.x,a.facing=o().p2.playerAction.facing,a.display(),e.keyPressed(),e.displayMagicBall(),e.displayHealth(),e.gameOver()},e.setupPlayerLocation=function(){"player 1"===l()&&(console.log(l()),ra.x=o().p1.playerLocation.x,ra.y=o().p1.playerLocation.y),"player 2"===l()&&(console.log(l()),ra.x=o().p2.playerLocation.x,ra.y=o().p2.playerLocation.y),console.log(ra)},e.Magician=function(t,a){this.x=t,this.y=a,this.hp=sa.magician.hp,this.full_hp=sa.magician.hp,this.attack_damage=sa.magician.attack_damage,this.defense=sa.magician.defense,this.speed=sa.magician.speed,this.basic_attack_disabled=!1,this.facing="right",this.disabled_timer={basic_attack:60},this.update=function(){this.disabled_timer.basic_attack&&console.log("Basic Attack Is Disabled")},this.display=function(){"left"===this.facing?e.image(s.mirrored,this.x,this.y,200,200):e.image(s.normal,this.x,this.y,200,200)},this.action=function(t,a,s){this.enemy=t,"basic_attack"===a&&(this.basic_attack_disabled||(console.log("basic attcak!"),i.push(new e.MagicBall(this.enemy,this.x,this.y,s,this.attack_damage)),console.log(this.enemy,this.x,this.y,s)))},this.damaged=function(e){this.hp>0&&(this.hp-=e-e*this.defense),this.hp<=0&&(this.hp=0,this.dies())},this.dies=function(){r=!0}},e.MagicBall=function(t,a,s,n,i){this.x=a,this.y=s+(720-s)/2,this.radius=80,this.disappear_after=90,this.speed=20,this.enemy=t,console.log(this.enemy),this.display=function(){this.update(),e.fill(153,102,255),e.arc(this.x,this.y,this.radius,this.radius,0,2*Math.PI)},this.update=function(){"right"===n&&(this.x+=this.speed),"left"===n&&(this.x-=this.speed),this.disappear_after--,this.collision()},this.collision=function(){this.x+this.radius>=this.enemy.x&&this.x-this.radius<=this.enemy.x&&(console.log("hits enemy"),t.damaged(i),this.disappear_after=0)}},e.displayMagicBall=function(){for(var e=0;e<i.length;e++)i[e].display(),i[e].disappear_after<=1&&(i.splice(e,1),console.log(i))},e.keyPressed=function(){ia.basic_attack=!1,ia.ability_1=!1,ia.ability_2=!1,ia.ability_3=!1,e.keyIsDown(65)&&(ra.x>0&&(ra.x-=c().speed,ia.facing="left"),console.log(o().p1.playerLocation.x,o().p1.playerAction.facing)),e.keyIsDown(68)&&(ra.x<1080&&(ra.x+=c().speed,ia.facing="right"),console.log(o().p1.playerLocation.x,o().p1.playerAction.facing)),e.keyIsDown(75)&&(ra.y-=10),e.keyIsDown(74)&&(ia.basic_attack=!0),e.keyIsDown(85)&&(ia.ability_1=!0),n()},e.checkingAction=function(){!0===o().p1.playerAction.basic_attack&&t.action(a,"basic_attack",o().p1.playerAction.facing),!0===o().p2.playerAction.basic_attack&&a.action(t,"basic_attack",o().p2.playerAction.facing)},e.checkLocation=function(){console.log(o().p1.playerLocation.x)},e.displayHealth=function(){var s={xPos:10,yPos:10,width:400,height:100},n={xPos:670,yPos:10,width:400,height:100};e.stroke(255),e.fill(50),e.rect(s.xPos,s.yPos,s.width,s.height),e.noStroke(),e.fill(102,255,102),e.rect(s.xPos,s.yPos,s.width*(t.hp/t.full_hp),s.height),e.noStroke(),e.textSize(80),e.fill(0),e.text(t.hp+" / "+t.full_hp,s.xPos,s.yPos+s.height-10),e.stroke(255),e.fill(50),e.rect(n.xPos,n.yPos,n.width,n.height),e.noStroke(),e.fill(102,255,102),e.rect(n.xPos,n.yPos,n.width*(a.hp/a.full_hp),n.height),e.noStroke(),e.textSize(80),e.fill(0),e.text(a.hp+" / "+a.full_hp,n.xPos,n.yPos+n.height-10)},e.gameOver=function(){r&&(e.background(0),e.fill(255),e.textSize(80),t.hp>a.hp&&e.text("Player 1 has won the game!",20,400),a.hp>t.hp&&e.text("Player 2 has won the game!",20,400),t.hp===a.hp&&e.text("Tie!",20,400))}})},a.getSessionDatabaseRef().set({p1:{characterType:"magician",playerLocation:{x:50,y:520},playerAction:{basic_attack:!1,ability_1:!1,ability_2:!1,ability_3:!1,facing:1}},p2:{characterType:"magician",playerLocation:{x:960,y:520},playerAction:{basic_attack:!1,ability_1:!1,ability_2:!1,ability_3:!1,facing:-1}}}),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"getState",value:function(){return this.state}},{key:"identifyCharacter",value:function(){var e;return"player 1"===this.getMyUser()&&(e=this.state.p1.characterType),"player 2"===this.getMyUser()&&(e=this.state.p2.characterType),sa[e]}},{key:"onSessionDataChanged",value:function(e){this.setState(e)}},{key:"handleButtonClick",value:function(){this.getSessionDatabaseRef().set({user_id:se.getName(this.getMyUserId())})}},{key:"getMyUser",value:function(){return this.getMyUserId()===this.getSessionCreatorUserId()?"player 1":"player 2"}},{key:"updateFirebase",value:function(){"player 1"===this.getMyUser()&&this.getSessionDatabaseRef().child("p1").update({playerLocation:ra,playerAction:ia}),"player 2"===this.getMyUser()&&this.getSessionDatabaseRef().child("p2").update({playerLocation:ra,playerAction:ia})}},{key:"render",value:function(){this.getSessionId(),this.getSessionUserIds().map((function(e){return x.a.createElement("li",{key:e},x.a.createElement("img",{alt:"",key:e,src:se.getPhotoUrl(e),height:"50px"}),se.getName(e))})),se.getName(this.getSessionCreatorUserId());return this.getMyUserId()===this.getSessionCreatorUserId()?"host":"guest",x.a.createElement("div",null,x.a.createElement(aa.a,{sketch:this.state.sketch}))}}]),t}(ee),ia={basic_attack:!1,ability_1:!1,ability_2:!1,ability_3:!1,facing:""},ra={x:0,y:0};var oa=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(i.a)(this,Object(r.a)(t).call(this,e));for(var n=[],o=["H","C","S","D"],l=[1,2,3,4,5,6,7,8,9,10,11,12,13],c=0;c<l.length;c++)for(var u=0;u<o.length;u++)n.push([l[c],o[u]]);var h=(n=function(e){var t,a,s;for(s=e.length-1;s>0;s--)t=Math.floor(Math.random()*(s+1)),a=e[s],e[s]=e[t],e[t]=a;return e}(n)).splice(0,26),p=n.splice(0,26);a.state={readyplayer1:!1,readyplayer2:!1,stack1:h,stack2:p,pile1:[],pile2:[],winner:null};var d=a.props.match.params.id,m=j.a.database().ref("/session/"+d);return a.readyplayer1=m.child("readyplayer1"),a.readyplayer2=m.child("readyplayer2"),a.stack1=m.child("stack1"),a.stack2=m.child("stack2"),a.pile1=m.child("pile1"),a.pile2=m.child("pile2"),a.winner=m.child("winner"),a.isCreator=j.a.auth().currentUser.uid===e.location.state.creator,a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({isNextRoundButtonDisabled:!0}),this.readyplayer1.set(this.state.readyplayer1),this.readyplayer1.on("value",(function(t){var a=t.val();null!==a&&(e.setState({readyplayer1:a}),!0===e.state.readyplayer1&&!0===e.state.readyplayer2&&e.setState({isNextRoundButtonDisabled:!1}),!1===e.state.readyplayer1&&e.setState({isButtonDisabled:!1}))})),this.readyplayer2.set(this.state.readyplayer2),this.readyplayer2.on("value",(function(t){var a=t.val();null!==a&&(e.setState({readyplayer2:a}),!0===e.state.readyplayer1&&!0===e.state.readyplayer2&&e.setState({isNextRoundButtonDisabled:!1}),!1===e.state.readyplayer2&&e.setState({isButtonDisabled:!1}))})),this.stack1.set(this.state.stack1),this.stack1.on("value",(function(t){null!==t.val()&&e.setState({stack1:t.val()})})),this.stack2.set(this.state.stack2),this.stack2.on("value",(function(t){null!==t.val()&&e.setState({stack2:t.val()})})),this.pile1.set(this.state.pile1),this.pile1.on("value",(function(t){null!==t.val()&&e.setState({pile1:t.val()})})),this.pile2.set(this.state.pile2),this.pile2.on("value",(function(t){null!==t.val()&&e.setState({pile2:t.val()})})),this.winner.set(this.state.winner),this.winner.on("value",(function(t){null!==t.val()&&e.setState({winner:t.val()})}))}},{key:"playCard1",value:function(){this.playerOneReady(),this.buttonDisabled();var e=this.state.stack1.shift();this.stack1.set(this.state.stack1),this.state.pile1.push(e),this.pile1.set(this.state.pile1),console.log(this.state.pile1[0][0]),this.checkWinner()}},{key:"playCard2",value:function(){this.playerTwoReady(),this.buttonDisabled();var e=this.state.stack2.shift();this.stack2.set(this.state.stack2),this.state.pile2.push(e),this.pile2.set(this.state.pile2),this.checkWinner()}},{key:"disabledNextRoundButton",value:function(){this.setState({isNextRoundButtonDisabled:!0})}},{key:"enabledNextRoundButton",value:function(){this.setState({isNextRoundButtonDisabled:!1})}},{key:"playerOneReady",value:function(){this.readyplayer1.set(!0)}},{key:"playerTwoReady",value:function(){this.readyplayer2.set(!0)}},{key:"checkWinner",value:function(){null!=this.state.pile1[0]&&null!=this.state.pile2[0]?this.state.pile1[0][0]>this.state.pile2[0][0]?(this.winner.set("P1 Wins"),this.state.stack1.push(this.state.pile1)):this.state.pile1[0][0]<this.state.pile2[0][0]&&this.winner.set("P2 Wins!"):console.log("no cards")}},{key:"buttonDisabled",value:function(){this.setState({isButtonDisabled:!0})}},{key:"nextRound",value:function(){this.setState({isButtonDisabled:!1}),this.readyplayer1.set(!1),this.readyplayer2.set(!1),this.disabledNextRoundButton()}},{key:"render",value:function(){return x.a.createElement("div",{className:"war"},x.a.createElement("div",null,x.a.createElement(Ce.a,{label:"Player 1 Start",fullWidth:!0,disabled:this.isCreator||this.state.isButtonDisabled||this.state.isbuttonEnabled,onClick:this.playCard1.bind(this)}),x.a.createElement("h1",{className:"number"}," ",this.state.pile1," ")),x.a.createElement("div",{className:"center"},x.a.createElement(Ce.a,{label:"Next Round",fullWidth:!1,disabled:this.state.isNextRoundButtonDisabled,onClick:this.nextRound.bind(this)}),x.a.createElement("p",null,this.state.winner)),x.a.createElement("div",{className:"playerTwo"},x.a.createElement("h1",{className:"number"}," ",this.state.pile2," "),x.a.createElement(Ce.a,{label:"Player 2 Start",fullWidth:!0,disabled:!this.isCreator||this.state.isButtonDisabled,onClick:this.playCard2.bind(this)})))}}]),t}(w.Component),la=a(158),ca=(a(74),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={color:"#000000",brushRadius:5,sum:0,new:!0,saveDrawing:null},a.saveableCanvas=x.a.createRef(),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"clearBoard",value:function(){this.saveableCanvas.clear()}},{key:"undoBoard",value:function(){this.saveableCanvas.undo()}},{key:"changeColor",value:function(e){this.setState({color:e})}},{key:"render",value:function(){var e=this;return this.props.playable&&this.state.new?(this.clearBoard(),this.setState({new:!1})):this.props.playable||this.state.new||this.setState({new:!0}),console.log(this.props.drawer),x.a.createElement("div",null,x.a.createElement("div",{className:"middle"},this.props.drawer&&x.a.createElement(la.a,{style:{boxShadow:"0 13px 27px -5px rgba(50, 50, 93, 0.25),    0 8px 16px -8px rgba(0, 0, 0, 0.3)"},brushColor:this.state.color,ref:function(t){return e.saveableCanvas=t},brushRadius:this.state.brushRadius,canvasWidth:"700px",lazyRadius:this.state.sum,onChange:this.saveableCanvas.getSaveData}),!this.props.drawer&&x.a.createElement(la.a,{style:{boxShadow:"0 13px 27px -5px rgba(50, 50, 93, 0.25),    0 8px 16px -8px rgba(0, 0, 0, 0.3)"},brushColor:this.state.color,ref:function(t){return e.saveableCanvas=t},brushRadius:this.state.brushRadius,canvasWidth:"700px",lazyRadius:this.state.sum,onChange:this.saveableCanvas.getSaveData,disabled:"true"})),this.props.drawer&&x.a.createElement("div",null,x.a.createElement("div",{className:"UI"},x.a.createElement("button",{className:"clear",onClick:function(){e.clearBoard()}},"Clear"),x.a.createElement("button",{className:"undo",onClick:function(){e.undoBoard()}},"Undo"),x.a.createElement("img",{className:"White",onClick:function(){e.changeColor("#ffffff")},src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcToa7jXAtJYB9GUSKjU90HhIw_4-xTpSYIwsbk5cFEY8CGa37dE&usqp=CAU"})),x.a.createElement("div",{className:"UI1"},x.a.createElement("label",null,"Pen Radius:",x.a.createElement("input",{type:"number",value:this.state.brushRadius,onChange:function(t){return e.setState({brushRadius:parseInt(t.target.value,10)})}}))),x.a.createElement("div",null,x.a.createElement("div",{className:"Colors1"},x.a.createElement("button",{className:"Black",onClick:function(){return e.changeColor("#000000")}},"Black"),x.a.createElement("button",{className:"dBlue",onClick:function(){return e.changeColor("#003366")}},"Dark Blue"),x.a.createElement("button",{className:"Brown",onClick:function(){return e.changeColor("#A52A2A")}},"Brown"),x.a.createElement("button",{className:"Purple",onClick:function(){return e.changeColor("#6a0dad")}},"Purple"),x.a.createElement("button",{className:"Red",onClick:function(){return e.changeColor("#FF0000")}},"Red"),x.a.createElement("button",{className:"Green",onClick:function(){return e.changeColor("#008000")}},"Green"))),x.a.createElement("div",null,x.a.createElement("div",{className:"Colors2"},x.a.createElement("button",{className:"Blue",onClick:function(){return e.changeColor("#00FFFF")}}," Light Blue"),x.a.createElement("button",{className:"Yellow",onClick:function(){return e.changeColor("#FFFF00")}},"Yellow"),x.a.createElement("button",{className:"Pink",onClick:function(){return e.changeColor("#FF69B4")}},"Pink"),x.a.createElement("button",{className:"Tan",onClick:function(){return e.changeColor("#F0E3DF")}},"Tan"),x.a.createElement("button",{className:"tDawn",onClick:function(){return e.changeColor("#BDC3B9")}},"Gray")))))}}]),t}(x.a.Component)),ua=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return x.a.createElement("div",null,x.a.createElement("div",{className:"Timer"},!this.props.break&&x.a.createElement("h1",null,"Time Left: ",this.props.time),this.props.break&&x.a.createElement("h1",null,"Break Left: ",this.props.fake)))}}]),t}(x.a.Component),ha=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={once:!0,start:0,players:[],points:[]},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"renderPoints",value:function(e){return e.map((function(e){return x.a.createElement("p",null,"Points: ",e)}))}},{key:"render",value:function(){if(this.state.once){for(var e=0;e<this.props.people.length;e++)this.state.points.push(0);this.setState({once:!1})}return x.a.createElement("div",null,x.a.createElement("h1",null,"Players: "),x.a.createElement("p",null,this.props.people,this.renderPoints(this.state.points)))}}]),t}(x.a.Component),pa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={chats:[],input:"",instance:[],show:" "},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"handleKeyEvent",value:function(e){if("Enter"===e&&this.state.input.length>0&&this.props.playTime){var t={message:this.state.input,timestamp:j.a.database.ServerValue.TIMESTAMP,user:this.getMyUserId()};this.state.instance.push(this.state.input),this.setState({show:this.props.people+": "+this.state.instance}),t.message.toLowerCase()===this.props.answer&&console.log("WINNER"),this.getSessionDatabaseRef().push(t,(function(e){e&&console.error("Error storing session metadata",e)})),this.setState({input:""})}}},{key:"send",value:function(){this.state.instance.push(this.state.input),this.state.instance[this.state.instance.length-1].toLowerCase()===this.props.answer&&console.log("WINNER"),this.setState({show:this.props.people[0].props.children+": "+this.state.instance,input:" "})}},{key:"allMessages",value:function(e){for(var t=0;t<e.length;t++);}},{key:"render",value:function(){var e=this;this.state.chats.slice(0,10).map((function(e,t){return x.a.createElement(re.ListItem,{key:e.id,style:{opacity:(10-t)/10},disabled:!0,primaryText:se.getName(e.user),secondaryText:e.message})}));return x.a.createElement("div",null,x.a.createElement("div",{className:"talk"},this.state.show),x.a.createElement("div",{className:"chatInput"},x.a.createElement(ae.a,{fullWidth:!0,onChange:function(t){return e.setState({input:t.target.value})},onKeyPress:function(t){return e.handleKeyEvent(t.key)},value:this.state.input,style:{marginLeft:"3%",marginBottom:8,width:"65%",border:"2px solid black"}}),x.a.createElement("button",{onClick:function(){return e.send()},style:{marginLeft:"3%",height:30,width:"25%",borderRadius:80}},"Enter")))}}]),t}(x.a.Component),da=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return x.a.createElement("div",null,x.a.createElement("h1",null,this.props.word))}}]),t}(x.a.Component),ma={Pictionary:{title:"Pictionary",authors:"Justin Huey",description:"Draw and guess",minUsers:1,maxUsers:5,component:function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={currentCount:60,fakeCount:10,number:0,words:["codenation","spongebob","shark","pencil","bicycle","book","igloo","pizza","dragon"],string:[],begin:!1,once:!0,blankLetters:2,saveNumbers:[],break:!1,currentUser:a.getMyUserId(),gameUsers:[],userDrawer:0},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"timer",value:function(){this.state.begin?this.setState({currentCount:this.state.currentCount-1}):this.state.break&&this.setState({fakeCount:this.state.fakeCount-1}),this.state.currentCount<1&&this.setState({begin:!1,break:!0}),this.state.break&&(this.Show(),this.state.fakeCount<1&&(this.setState({break:!1,currentCount:60,begin:!1,saveNumbers:[]}),this.Next(),this.Start()))}},{key:"componentDidMount",value:function(){this.intervalId=setInterval(this.timer.bind(this),500)}},{key:"Start",value:function(){var e=this.state.words[this.state.number],t=[];if(this.state.currentUser===this.state.gameUsers[this.state.userDrawer])this.setState({meDrawer:!0});else{this.setState({meDrawer:!1});for(var a=0;a<e.length;a++)t.push("_"),t.push(" ")}this.setState({string:t,begin:!0,fakeCount:10}),this.getSessionDatabaseRef().set(this.state.string,(function(e){e&&console.error("Error updating Kevin state",e)}))}},{key:"Next",value:function(){this.state.number+2>this.state.words.length?this.setState({number:0}):this.setState({number:this.state.number+1}),this.userDrawer+1>this.state.gameUsers.length?this.setState({userDrawer:0}):this.setState({userDrawer:this.state.userDrawer+1})}},{key:"Show",value:function(){for(var e=this.state.words[this.state.number],t=[],a=0;a<e.length;a++)t.push(e[a].toUpperCase()),t.push(" ");this.setState({string:t})}},{key:"Information",value:function(){var e=this.state.words[this.state.number],t=Math.ceil(60/(e.length-this.state.blankLetters));if(this.state.currentCount%t!==this.state.currentCount%t/2+2||this.state.bool||this.setState({bool:!0}),this.state.currentCount%t===this.state.currentCount%t/2+1&&this.state.bool){var a=Math.floor(Math.random()*this.state.string.length);for(a%2!==0&&(a-=1);this.checkArray(this.state.saveNumbers,a);)(a=Math.floor(Math.random()*this.state.string.length))%2!==0&&(a-=1);this.checkArray(this.state.saveNumbers,a)||this.state.saveNumbers.push(a),this.state.string[a]=e[a/2].toUpperCase(),this.setState({bool:!1})}}},{key:"checkArray",value:function(e,t){for(var a=0;a<e.length;a++)if(t===e[a])return!0;return!1}},{key:"changeInfo",value:function(){this.getSessionDatabaseRef().set({},(function(e){e&&console.error("Error updating Kevin state",e)}))}},{key:"onSessionDataChanged",value:function(e){this.setState({number:e.number,string:e.string,begin:e.begin,once:e.once,blankLetters:2,saveNumbers:e.saveNumbers,break:e.break,currentUser:e.currentUser,gameUsers:e.gameUsers,userDrawer:e.userDrawer}),console.log("yes")}},{key:"render",value:function(){var e=this,t=this.getSessionId(),a=this.getSessionUserIds().map((function(e){return x.a.createElement("li",{key:e},se.getName(e))})),s=(this.getSessionUserIds().map((function(t){return e.state.gameUsers.push(t)})),se.getName(this.getSessionCreatorUserId()));return this.state.currentUser===this.state.gameUsers[this.state.userDrawer]?this.state.string="Draw Word: "+this.state.words[this.state.number].toUpperCase():this.Information(),this.state.gameUsers.length>0&&this.state.once&&(this.Start(),this.setState({once:!1})),x.a.createElement("div",null,x.a.createElement("p",null,"Session ID: ",t),x.a.createElement("p",null,"Session creator: ",s),x.a.createElement("div",{className:"Players"},x.a.createElement(ha,{people:a})),x.a.createElement("div",{className:"Timer"},x.a.createElement(ua,{time:this.state.currentCount,break:this.state.break,fake:this.state.fakeCount})),x.a.createElement("div",{className:"Board"},!this.state.break&&x.a.createElement(ca,{playable:this.state.begin,drawer:this.state.meDrawer})),x.a.createElement("div",{className:"Word"},x.a.createElement(da,{time:this.state.currentCount,word:this.state.string,prompt:prompt})),x.a.createElement("div",{className:"Chat"},x.a.createElement(pa,{playTime:this.state.begin,answer:prompt,people:a})))}}]),t}(ee)},chatroom:{title:"Chat Room",authors:"Joe Tessler",description:"A place to chat with a group of friends",minUsers:1,maxUsers:10,component:oe},tictactoe:{title:"Tic Tac Toe",authors:"Joe Tessler",description:"The classic two-player game with Xs and Os",minUsers:2,maxUsers:2,component:at},rockpaperscissors:{title:"Rock Paper Scissors",authors:"Devraj Mehta",description:"Class 2-player rock paper scissors",minUsers:2,maxUsers:2,component:Re},multiplication:{title:"Multiplication",authors:"Edwin Fuquen",description:"A multiplication speed game",minUsers:2,maxUsers:2,component:xe},pong:{title:"Pong",authors:"Devraj Mehta",description:"Classic Pong",minUsers:1,maxUsers:2,component:Pe},pokemon:{title:"Pokemon Simulator",authors:"Imani Greenidge and Raishan Bernard",description:"Turn Based Pokemon Battle",minUsers:1,maxUsers:2,component:Ie},questions:{title:"21 Questions",authors:"Jordan K., Prieya N.",description:"21 questions between 2 players",minUsers:1,maxUsers:2,component:ot},photosharing:{title:"Spark",authors:"Ramata Williams and Andrea Cajamarca",description:"Ripping off Twitter, Instagram, AND Tumblr.",minUsers:2,maxUserss:5,component:Ze},uno:{title:"I Declare War",authors:"Nia Davis, Jackie He, Lisandro Mayancela, Steven Rosario",description:"The classic UNO game",minUsers:2,maxUsers:2,component:oa},mafia:{title:"Mafia",authors:"Caelan Springer, Daniel Lin, Daniel Zamilatskiy",description:"Your greatest friends can be your greatest enemy. Trust no one but yourself.",minUsers:1,maxUsers:20,component:we},cookieClicker:{title:"Cookie Clicker",authors:"Mahfuz,",description:"click the cookie fast as possible",minUsers:2,maxUsers:2,component:pe},fight:{title:"fight",authors:"Linhong Zhou, Jennifer P",description:"FIGHT!",minUsers:2,maxUsers:2,component:na},Burst_Forth:{title:"Burst Forth",authors:"Jason Alvarez, William Collazo, Usman",description:"oof",minUsers:2,maxUsers:2,component:ea},TugOfWar:{title:"Tug Of War",authors:"Joel Veras",description:"Pull the rope and win ",minUsers:2,maxUsers:2,component:nt},googlegossip:{title:"Google Gossip",authors:"Zaara Afida, Jermain Lewis, Daril Alanis",description:"We are here to spill teas and destroy lives while exposing fake people around us.",minUsers:1,maxUsers:10,component:ge}},fa=a(583),ba=a(584),ga=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={drawerOpen:!1},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"setDrawerOpen",value:function(e){this.setState({drawerOpen:e})}},{key:"signOut",value:function(){j.a.auth().signOut().catch((function(e){return console.error("Failed to sign out",e)}))}},{key:"getTitle",value:function(){var e=this.props.location.pathname.split("/");return e.length>=2&&e[1]in ma?ma[e[1]].title:"Studio Games!"}},{key:"isInWaitingRoom",value:function(){return"/"===this.props.location.pathname}},{key:"render",value:function(){var e=this,t=j.a.auth().currentUser;return x.a.createElement("div",null,x.a.createElement(T.a,{position:"static"},x.a.createElement(Q.a,null,x.a.createElement(W.a,{style:{marginLeft:-12,marginRight:20},onClick:function(){return e.setDrawerOpen(!0)}},x.a.createElement(K.a,null)),x.a.createElement(v.a,{variant:"h6",color:"inherit",style:{flexGrow:1}},this.getTitle()),x.a.createElement(A.a,{color:"inherit",onClick:function(){return e.signOut()}},"Sign out as ",t.displayName))),x.a.createElement(L.a,{open:this.state.drawerOpen,onClose:function(){return e.setDrawerOpen(!1)}},x.a.createElement(B.a,null,x.a.createElement(H.a,null,x.a.createElement(q.a,{primaryTypographyProps:{variant:"title"},primary:"Navigation"})),x.a.createElement(fa.a,{style:{textDecoration:"none"},to:"/"},x.a.createElement(V.a,{onClick:function(){return e.setDrawerOpen(!1)},disabled:this.isInWaitingRoom()},"Go back to the waiting room")),x.a.createElement(H.a,null,x.a.createElement(q.a,{primaryTypographyProps:{variant:"title"},primary:"Active Games"})),x.a.createElement(V.a,{disabled:!0},"Not implemented yet"),x.a.createElement(H.a,null,x.a.createElement(q.a,{primaryTypographyProps:{variant:"title"},primary:"Debug Tools"})),x.a.createElement(fa.a,{style:{textDecoration:"none"},to:"/dataViewer"},x.a.createElement(V.a,{onClick:function(){return e.setDrawerOpen(!1)}},"View Game Data")))))}}]),t}(w.Component),ya=Object(ba.a)(ga),va=a(252),ka=a.n(va),Ea=a(242),wa=a.n(Ea),xa=a(245),Sa=a.n(xa),Ca=a(244),Oa=a.n(Ca),ja=a(113),Ia=a.n(ja),Ua=a(243),Da=a.n(Ua),Na=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={dialog_open:!0},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentWillMount",value:function(){document.title="Unknown Game"}},{key:"render",value:function(){var e=this.props.match.params.type,t=this.props.match.params.id;return x.a.createElement(wa.a,{open:this.state.dialog_open,disableBackdropClick:!0,disableEscapeKeyDown:!0},x.a.createElement(Da.a,null,"Unknown Game!"),x.a.createElement(Oa.a,null,x.a.createElement(Ia.a,null,"Game Type: ",x.a.createElement("code",null,e)),x.a.createElement(Ia.a,null,"Game ID: ",x.a.createElement("code",null,t)),x.a.createElement(Ia.a,{style:{marginTop:10}},x.a.createElement("b",null,"Oops!")," You do not have the code for this game type. This is probably another team's project.  Please go back to the waiting room and try another game.")),x.a.createElement(Sa.a,null,x.a.createElement(fa.a,{style:{textDecoration:"none"},to:"/"},x.a.createElement(A.a,{color:"primary",autoFocus:!0},"Go to waiting room"))))}}]),t}(w.Component),Pa=a(246),Ta=a.n(Pa),Ra=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"addGame",value:function(){var e=j.a.auth().currentUser,t={type:this.props.type,users:[e.uid],creator:e.uid,timestamp:j.a.database.ServerValue.TIMESTAMP};j.a.database().ref("/session-metadata").push(t,(function(e){e&&console.error("Error storing session metadata",e)})),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this;return x.a.createElement(V.a,{onClick:function(){return e.addGame()}},this.props.title)}}]),t}(w.Component),Aa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={popoverOpen:!1},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"openPopover",value:function(e){e.preventDefault(),this.setState({popoverOpen:!0,anchorEl:e.currentTarget})}},{key:"closePopover",value:function(){this.setState({popoverOpen:!1})}},{key:"render",value:function(){var e=this,t=Object.keys(ma).map((function(t){return x.a.createElement(Ra,{key:t,type:t,title:ma[t].title,onClick:function(){return e.closePopover()}})}));return x.a.createElement("center",{style:this.props.style},x.a.createElement(A.a,{variant:"contained",onClick:function(t){return e.openPopover(t)}},"Create new game"),x.a.createElement(Ta.a,{open:this.state.popoverOpen,anchorEl:this.state.anchorEl,onClose:function(){return e.closePopover()}},t))}}]),t}(w.Component),Ma=a(153),La=a.n(Ma),_a=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"handleChange",value:function(e){this.props.onFilterGames(e.target.value)}},{key:"render",value:function(){var e=this;return x.a.createElement(La.a,{value:this.props.filterType,onChange:function(t){return e.handleChange(t)}},x.a.createElement(V.a,{value:$a.MY_GAMES},"Games I Created"),x.a.createElement(V.a,{value:$a.GAMES_WITH_SPACE},"Games with Space"),x.a.createElement(V.a,{value:$a.GAMES_I_AM_IN},"Games I Joined"),x.a.createElement(V.a,{value:$a.ALL_GAMES},"All Games"))}}]),t}(w.Component),Wa=a(250),Ga=a.n(Wa),Ba=a(249),Fa=a.n(Ba),Ha=a(247),Ya=a.n(Ha),qa=a(151),za=a.n(qa),Ka=a(156),Xa=a.n(Ka),Va=a(248),Ja=a.n(Va),Qa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={expanded:!1},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"gameDataExists",value:function(){return this.props.session.type in ma}},{key:"getGameData",value:function(){return this.gameDataExists()?ma[this.props.session.type]:{title:"Unknown Game Type",authors:"Unknown Authors",description:"You are missing the code for this game type. It is likely another team's project that is in development.",minUsers:0,maxUsers:0}}},{key:"getTitle",value:function(){return this.getGameData().title}},{key:"getSubtitle",value:function(){var e=new Date(this.props.session.timestamp);return"Created on "+new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",minute:"numeric",month:"long",second:"numeric",timeZone:"America/New_York",weekday:"long",year:"numeric"}).format(e)+" by "+se.getName(this.props.session.creator)}},{key:"getAuthors",value:function(){return"This game was designed and built by "+this.getGameData().authors}},{key:"getDescription",value:function(){return this.getGameData().description}},{key:"getUserListHeader",value:function(){return this.props.session.users.length+"/"+this.getGameData().maxUsers+" users waiting to start"}},{key:"getGamePath",value:function(){return"/"+this.props.session.type+"/"+this.props.session.id}},{key:"joinSession",value:function(){var e=j.a.auth().currentUser.uid,t="/session-metadata/"+this.props.session.id+"/users",a=j.a.database().ref(t),s=this.getGameData().maxUsers;a.transaction((function(t){return t.length<s&&t.indexOf(e)<0&&t.push(e),t})).catch((function(e,t,a){console.error("Error joining session",e)}))}},{key:"deleteSession",value:function(){var e=this,t="/session/"+this.props.session.id;j.a.database().ref(t).remove().then((function(){e.deleteSessionMetadata()})).catch((function(t){console.warn("Error removing session data",t),e.deleteSessionMetadata()}))}},{key:"deleteSessionMetadata",value:function(){var e="/session-metadata/"+this.props.session.id;j.a.database().ref(e).remove().catch((function(e){console.error("Error removing session metadata",e)}))}},{key:"isGameCreator",value:function(){return j.a.auth().currentUser.uid===this.props.session.creator}},{key:"isInSession",value:function(){var e=j.a.auth().currentUser.uid;return this.props.session.users.indexOf(e)>=0}},{key:"shouldShowStartButton",value:function(){var e=this.props.session.users,t=this.getGameData().minUsers;return this.isInSession()&&e.length>=t}},{key:"isFull",value:function(){var e=this.props.session.users,t=this.getGameData().maxUsers;return e.length>=t}},{key:"handleExpand",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var e,t=this,a=this.props.session.users.map((function(e){return x.a.createElement(H.a,{key:e},x.a.createElement($.a,{src:se.getPhotoUrl(e)}),x.a.createElement(q.a,{primary:se.getName(e)}))}));if(this.gameDataExists())if(this.shouldShowStartButton()){var s={pathname:this.getGamePath(),state:{id:this.props.session.id,creator:this.props.session.creator,users:this.props.session.users,title:this.getTitle()}};e=x.a.createElement(fa.a,{style:{textDecoration:"none"},to:s},x.a.createElement(A.a,{color:"primary"},"Start game"))}else e=x.a.createElement(A.a,{onClick:function(){return t.joinSession()},disabled:this.isInSession()||this.isFull()},this.isFull()?"Game is full":"Join");else e=x.a.createElement(A.a,{disabled:!0},"Cannot join unknown game type");return x.a.createElement(E.a,{style:this.props.style},x.a.createElement(Ya.a,{action:x.a.createElement(W.a,{onClick:function(){return t.handleExpand()}},this.state.expanded?x.a.createElement(Ja.a,null):x.a.createElement(h.a,null)),title:this.getTitle(),subheader:this.getSubtitle()}),x.a.createElement(za.a,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},x.a.createElement(Fa.a,null,x.a.createElement(v.a,{variant:"subtitle1"},this.getDescription()),x.a.createElement(Xa.a,null),x.a.createElement(B.a,null,x.a.createElement(v.a,{variant:"subtitle2",color:"textSecondary",paragraph:!0},this.getUserListHeader()),a),x.a.createElement(Xa.a,null),x.a.createElement(v.a,{color:"textSecondary"},this.getAuthors()))),x.a.createElement(Ga.a,null,e,x.a.createElement(A.a,{onClick:function(){return t.deleteSession()},disabled:!this.isGameCreator()},"Delete")))}}]),t}(w.Component),Za={marginTop:14},$a=Object.freeze({ALL_GAMES:0,MY_GAMES:1,GAMES_WITH_SPACE:2,GAMES_I_AM_IN:3}),es=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={sessions:null,filterType:$a.MY_GAMES},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentWillMount",value:function(){var e=this;j.a.database().ref("/session-metadata").on("value",(function(t){var a=t.val();if(null!==a){var s=Object.keys(a).map((function(e){return{id:e,type:a[e].type,users:a[e].users,creator:a[e].creator,timestamp:a[e].timestamp}}));e.setState({sessions:s})}else e.setState({sessions:[]})})),document.title="Studio Games!"}},{key:"componentWillUnmount",value:function(){j.a.database().ref("/session-metadata").off()}},{key:"onFilterGames",value:function(e){this.setState({filterType:e})}},{key:"getFilterFunction",value:function(){var e=j.a.auth().currentUser.uid;switch(this.state.filterType){case $a.ALL_GAMES:return function(e){return!0};case $a.MY_GAMES:return function(t){return t.creator===e};case $a.GAMES_WITH_SPACE:return function(e){return e.type in ma&&e.users.length<ma[e.type].maxUsers};case $a.GAMES_I_AM_IN:return function(t){return t.users.indexOf(e)>=0};default:console.log("There's been an Error")}}},{key:"render",value:function(){var e=this;if(null===this.state.sessions)return x.a.createElement("center",{style:Za},x.a.createElement(c.a,{size:56}));var t=this.state.sessions.filter(this.getFilterFunction());t.sort((function(e,t){return t.timestamp-e.timestamp}));var a=t.map((function(e){return x.a.createElement(Qa,{key:e.id,style:Za,session:e})}));return x.a.createElement("div",null,x.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"20px"}},x.a.createElement(_a,{style:Za,filterType:this.state.filterType,onFilterGames:function(t){return e.onFilterGames(t)}}),x.a.createElement(Aa,{style:Za})),a)}}]),t}(w.Component),ts=a(585),as=a(587),ss={width:56,height:56,marginTop:56},ns=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={authIsLoading:!0,userApiIsLoading:!0,user:null},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentWillMount",value:function(){var e=this;0===j.a.apps.length&&j.a.initializeApp({apiKey:"AIzaSyCJPYgNY-rgkZul563iUipYrFKD7BLt_HA",authDomain:"studio-multiplayer-game.firebaseapp.com",databaseURL:"https://studio-multiplayer-game.firebaseio.com",projectId:"studio-multiplayer-game",storageBucket:"studio-multiplayer-game.appspot.com",messagingSenderId:"953054375831"}),j.a.auth().onAuthStateChanged((function(t){return e.setState({authIsLoading:!1,user:t})})),ie.startListeningForChanges().then((function(){return e.setState({userApiIsLoading:!1})}))}},{key:"componentWillUnmount",value:function(){ie.stopListeningForChanges()}},{key:"signIn",value:function(){this.setState({authIsLoading:!0});var e=new j.a.auth.GoogleAuthProvider;j.a.auth().signInWithRedirect(e)}},{key:"render",value:function(){var e=this;if(this.state.authIsLoading||null!==this.state.user){if(this.state.authIsLoading||this.state.userApiIsLoading)return x.a.createElement("center",null,x.a.createElement(c.a,{style:ss,size:56}));var t=Object.keys(ma).map((function(e){return x.a.createElement(ts.a,{key:e,path:"/"+e+"/:id",component:ma[e].component})}));return x.a.createElement("div",null,x.a.createElement(ya,null),x.a.createElement(as.a,null,x.a.createElement(ts.a,{path:"/",component:es,exact:!0}),x.a.createElement(ts.a,{path:"/dataViewer",component:U,exact:!0}),t,x.a.createElement(ts.a,{path:"/:type/:id",component:Na,exact:!0})))}return x.a.createElement("center",null,x.a.createElement(N.a,{style:ss,onClick:function(){return e.signIn()}},x.a.createElement(ka.a,null)))}}]),t}(w.Component),is=a(253),rs=a.n(is),os=a(31),ls=a.n(os),cs=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function us(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var hs=a(586);ls.a.render(x.a.createElement((function(){return x.a.createElement(hs.a,null,x.a.createElement(rs.a,null,x.a.createElement(ns,null)))}),null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/studio-multiplayer-game",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/studio-multiplayer-game","/service-worker.js");cs?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):us(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):us(e)}))}}()},74:function(e,t,a){}},[[255,1,2]]]);
//# sourceMappingURL=main.124534f1.chunk.js.map